import{_ as zn}from"./PageTitle.Sttpu6o8.js";import{_ as Je}from"./nuxt-link.F0f6jDc4.js";import{h as Tn,_ as An,a as Ln,b as Rn,c as Xn,d as Dn,e as In,f as Pn,g as Yn}from"./m3logiOffice.zSBgC6mV.js";import{_ as kt,o as I,c as P,a as _,b as z,w as R,d as H,q as _e,G as Ze,r as Tt,D as Hn,A as Ke,H as Fn,h as Qe,F as At,I as Kt,x as On,E as Wn,u as Un,t as Vn,s as qn}from"./entry.gkIplG0H.js";const Gn=""+globalThis.__publicAssetsURL("images/gallery-14.jpeg"),Jn={},Zn={class:"offer-section",id:"#offerr-sec"},Kn={class:"auto-container"},Qn={class:"row"},jn={class:"content-column col-lg-7 col-md-12"},ti={class:"inner-column"},ei=_("div",{class:""},[_("h2",null,"Company Profile"),_("h4",null,"M3Logi, a single window approach for transporters, ports, customs and shipping lines."),_("div",{class:"text"},[H("M3Logi is an ideal solution, to acquire combined services provided by transporters, port yards, customs and shipping lines. One of the most convenient shipping services of the world, M3Logi offers online booking amenities with a variety of shipping schedules according to our clients’ requirements."),_("br"),H(),_("br"),H(" With competitive rates and being a non-vessel operating common carrier (NVOCC), M3Logi is able to provide its customers comprehensive services including shipment tracking, and bill of lading. We envision to provide our customers all inclusive services of ‘carrier to shipper’ and ‘shipper to carrier’ and target clients all over the globe.")])],-1),ni=_("span",{class:"btn-title"},"Explore More",-1),ii=_e('<div class="image-column col-lg-4 col-md-8 col-sm-8"><div class="inner-column"><div class="image-box"><figure class="image"><img src="'+Tn+'" alt=""></figure><figure class="image"><img src="'+Gn+'" alt=""></figure></div></div></div>',1);function ri(e,n){const t=Je;return I(),P("section",Zn,[_("div",Kn,[_("div",Qn,[_("div",jn,[_("div",ti,[ei,z(t,{to:"/page-services",class:"theme-btn btn-style-two hvr-light"},{default:R(()=>[ni]),_:1})])]),ii])])])}const oi=kt(Jn,[["render",ri]]),si=""+globalThis.__publicAssetsURL("images/Mission.png"),ai={},li={class:"about-section-two",id:"mission"},ci=_e('<div class="auto-container"><div class="row"><div class="content-column col-lg-6 col-md-12 col-sm-12 order-2"><div class="inner-column"><div class="sec-title"><span class="sub-title">Our Mission</span><h2>Your Destination Is Our Mission</h2><h4>Since 2012, m3Logi has been simplifying global freight and logistics.</h4><div class="text">We provide a single-window system that seamlessly integrates transporters, port yards, customs, and shipping lines—making logistics management easier than ever. <br><br> With our easy-to-use online platform, you can book shipments instantly and choose from a wide range of flexible shipping schedules that best fit your needs. Our digital tools help you manage, monitor, and create shipments online, ensuring transparency and full control over your cargo journey. </div></div></div></div><div class="image-column col-lg-6 col-md-12 col-sm-12"><div class="inner-column"><figure class="image-1 wow fadeInUp"><img src="'+si+'" alt=""></figure></div></div></div></div>',1),ui=[ci];function hi(e,n){return I(),P("section",li,ui)}const di=kt(ai,[["render",hi]]),fi=""+globalThis.__publicAssetsURL("images/Vision.png"),pi={},gi={class:"about-section-two",id:"vision"},mi=_e('<div class="auto-container"><div class="row"><div class="image-column col-lg-6 col-md-12 col-sm-12 order-lg-2"><div class="inner-column"><figure class="image-1 wow fadeInUp"><img src="'+fi+'" alt=""></figure></div></div><div class="content-column col-lg-6 col-md-12 col-sm-12 order-lg-1"><div class="inner-column"><div class="sec-title"><span class="sub-title">Our Vision</span><h2>Driving the Future of Global Logistics</h2><h4>Our vision is to redefine the way the world moves cargo.</h4><div class="text"> We aim to create a smarter, faster, and more sustainable logistics ecosystem where technology bridges every gap in international trade. <br><br> We envision a future where businesses of all sizes—from local exporters to multinational corporations—can access seamless freight solutions at their fingertips. By combining digital innovation with our global expertise, we strive to eliminate complexity, reduce delays, and empower customers with complete visibility over their shipments. <br><br>Our goal is to build a connected logistics network that not only simplifies trade but also fosters growth, trust, and opportunity for our partners worldwide. </div></div></div></div></div></div>',1),_i=[mi];function yi(e,n){return I(),P("section",gi,_i)}const xi=kt(pi,[["render",yi]]),vi={},wi={class:"services-section"},bi=_("div",{class:"bg-image",style:{"background-image":"url(./images/background/1.jpg)"}},null,-1),Ci=_("div",{class:"anim-icons"},[_("span",{class:"icon icon-wave-line"})],-1),$i={class:"auto-container"},ki=_("div",{class:"sec-title text-center"},[_("span",{class:"sub-title"},"Services by M3Logi"),_("h2",null,[H("We provide services to take your goods "),_("br"),H(" where they need to go.")])],-1),Ei={class:"row"},Si={class:"service-block col-xl-3 col-lg-4 col-md-6 col-sm-12 wow fadeInUp"},Mi={class:"inner-box"},Ni={class:"image-box"},Bi={class:"image"},zi=_("img",{src:An,alt:""},null,-1),Ti={class:"content-box"},Ai=_("i",{class:"icon flaticon-container-2"},null,-1),Li=_("span",{class:"sub-title"},"01 Service",-1),Ri={class:"title"},Xi=_("div",{class:"text"},"Efficient yard management ensuring smooth operations",-1),Di={class:"service-block col-xl-3 col-lg-4 col-md-6 col-sm-12 wow fadeInUp","data-wow-delay":"300ms"},Ii={class:"inner-box"},Pi={class:"image-box"},Yi={class:"image"},Hi=_("img",{src:Ln,alt:""},null,-1),Fi={class:"content-box"},Oi=_("i",{class:"icon flaticon-airplane-2"},null,-1),Wi=_("span",{class:"sub-title"},"02 Service",-1),Ui={class:"title"},Vi=_("div",{class:"text"},"Fast and reliable global air freight solutions.",-1),qi={class:"service-block col-xl-3 col-lg-4 col-md-6 col-sm-12 wow fadeInUp","data-wow-delay":"900ms"},Gi={class:"inner-box"},Ji={class:"image-box"},Zi={class:"image"},Ki=_("img",{src:Rn,alt:""},null,-1),Qi={class:"content-box"},ji=_("i",{class:"icon flaticon-wrench"},null,-1),tr=_("span",{class:"sub-title"},"03 Service",-1),er={class:"title"},nr=_("div",{class:"text"},"Expert care to extend vehicle life and safety.",-1),ir={class:"service-block col-xl-3 col-lg-4 col-md-6 col-sm-12 wow fadeInUp","data-wow-delay":"900ms"},rr={class:"inner-box"},or={class:"image-box"},sr={class:"image"},ar=_("img",{src:Xn,alt:""},null,-1),lr={class:"content-box"},cr=_("i",{class:"icon flaticon-truck"},null,-1),ur=_("span",{class:"sub-title"},"04 Service",-1),hr={class:"title"},dr=_("div",{class:"text"},"Quick and secure container transport from port to door.",-1),fr={class:"service-block col-xl-3 col-lg-4 col-md-6 col-sm-12 wow fadeInUp","data-wow-delay":"600ms"},pr={class:"inner-box"},gr={class:"image-box"},mr={class:"image"},_r=_("img",{src:Dn,alt:""},null,-1),yr={class:"content-box"},xr=_("i",{class:"icon flaticon-delivery-truck-3"},null,-1),vr=_("span",{class:"sub-title"},"05 Service",-1),wr={class:"title"},br=_("div",{class:"text"},"Safe and timely delivery across road networks.",-1),Cr={class:"service-block col-xl-3 col-lg-4 col-md-6 col-sm-12 wow fadeInUp","data-wow-delay":"900ms"},$r={class:"inner-box"},kr={class:"image-box"},Er={class:"image"},Sr=_("img",{src:In,alt:""},null,-1),Mr={class:"content-box"},Nr=_("i",{class:"icon flaticon-cargo-boat"},null,-1),Br=_("span",{class:"sub-title"},"06 Service",-1),zr={class:"title"},Tr=_("div",{class:"text"},"Cost-effective worldwide sea freight services.",-1),Ar={class:"service-block col-xl-3 col-lg-4 col-md-6 col-sm-12 wow fadeInUp","data-wow-delay":"900ms"},Lr={class:"inner-box"},Rr={class:"image-box"},Xr={class:"image"},Dr=_("img",{src:Pn,alt:""},null,-1),Ir={class:"content-box"},Pr=_("i",{class:"icon flaticon-wrench"},null,-1),Yr=_("span",{class:"sub-title"},"07 Service",-1),Hr={class:"title"},Fr=_("div",{class:"text"},"Keeping your fleet in top performance condition.",-1),Or={class:"service-block col-xl-3 col-lg-4 col-md-6 col-sm-12 wow fadeInUp","data-wow-delay":"900ms"},Wr={class:"inner-box"},Ur={class:"image-box"},Vr={class:"image"},qr=_("img",{src:Yn,alt:""},null,-1),Gr={class:"content-box"},Jr=_("i",{class:"icon fas fa-check"},null,-1),Zr=_("span",{class:"sub-title"},"08 Service",-1),Kr={class:"title"},Qr=_("div",{class:"text"},"Hassle-free customs clearance for all shipments.",-1);function jr(e,n){const t=Je;return I(),P("section",wi,[bi,Ci,_("div",$i,[ki,_("div",Ei,[_("div",Si,[_("div",Mi,[_("div",Ni,[_("figure",Bi,[z(t,{to:"/page-service-details"},{default:R(()=>[zi]),_:1})])]),_("div",Ti,[Ai,Li,_("h4",Ri,[z(t,{to:"/page-service-details"},{default:R(()=>[H("Yard Services")]),_:1})]),Xi])])]),_("div",Di,[_("div",Ii,[_("div",Pi,[_("figure",Yi,[z(t,{to:"/page-service-details"},{default:R(()=>[Hi]),_:1})])]),_("div",Fi,[Oi,Wi,_("h4",Ui,[z(t,{to:"/page-service-details"},{default:R(()=>[H("Air Cargo")]),_:1})]),Vi])])]),_("div",qi,[_("div",Gi,[_("div",Ji,[_("figure",Zi,[z(t,{to:"/page-service-details"},{default:R(()=>[Ki]),_:1})])]),_("div",Qi,[ji,tr,_("h4",er,[z(t,{to:"/page-service-details"},{default:R(()=>[H("Vehicle Inspection")]),_:1})]),nr])])]),_("div",ir,[_("div",rr,[_("div",or,[_("figure",sr,[z(t,{to:"/page-service-details"},{default:R(()=>[ar]),_:1})])]),_("div",lr,[cr,ur,_("h4",hr,[z(t,{to:"/page-service-details"},{default:R(()=>[H("Drayage Services")]),_:1})]),dr])])]),_("div",fr,[_("div",pr,[_("div",gr,[_("figure",mr,[z(t,{to:"/page-service-details"},{default:R(()=>[_r]),_:1})])]),_("div",yr,[xr,vr,_("h4",wr,[z(t,{to:"/page-service-details"},{default:R(()=>[H("Land Transportation")]),_:1})]),br])])]),_("div",Cr,[_("div",$r,[_("div",kr,[_("figure",Er,[z(t,{to:"/page-service-details"},{default:R(()=>[Sr]),_:1})])]),_("div",Mr,[Nr,Br,_("h4",zr,[z(t,{to:"/page-service-details"},{default:R(()=>[H("Ocean Transportation")]),_:1})]),Tr])])]),_("div",Ar,[_("div",Lr,[_("div",Rr,[_("figure",Xr,[z(t,{to:"/page-service-details"},{default:R(()=>[Dr]),_:1})])]),_("div",Ir,[Pr,Yr,_("h4",Hr,[z(t,{to:"/page-service-details"},{default:R(()=>[H("Vehicle Maintenance")]),_:1})]),Fr])])]),_("div",Or,[_("div",Wr,[_("div",Ur,[_("figure",Vr,[z(t,{to:"/page-service-details"},{default:R(()=>[qr]),_:1})])]),_("div",Gr,[Jr,Zr,_("h4",Kr,[z(t,{to:"/page-service-details"},{default:R(()=>[H("Customer Clearance")]),_:1})]),Qr])])])])])])}const to=kt(vi,[["render",jr]]),eo={class:"gallery-carousel"},no={class:"carousel-header"},io={class:"auto-container"},ro={class:"controls"},oo=["disabled"],so=_("svg",{viewBox:"0 0 24 24",width:"18",height:"18"},[_("path",{d:"M15 18l-6-6 6-6",stroke:"currentColor","stroke-width":"2",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"})],-1),ao=[so],lo=["disabled"],co=_("svg",{viewBox:"0 0 24 24",width:"18",height:"18"},[_("path",{d:"M9 6l6 6-6 6",stroke:"currentColor","stroke-width":"2",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"})],-1),uo=[co],ho={class:"auto-container"},fo={class:"masonry-grid"},po=["href","title","data-glightbox"],go={class:"gallery-image"},mo=["src","alt"],_o={key:0,class:"dots"},yo=["onClick","aria-label"],xo=Ze({__name:"Section6",setup(e){const n=[{pathname:"gallery-0.jpeg",caption:"gallery"},{pathname:"gallery-13.jpeg",caption:"gallery"},{pathname:"gallery-3.jpg",caption:"gallery"},{pathname:"gallery-5.jpg",caption:"gallery"},{pathname:"gallery-6.jpg",caption:"gallery"},{pathname:"gallery-14.jpeg",caption:"gallery"},{pathname:"gallery-11.jpeg",caption:"gallery"},{pathname:"gallery-12.jpeg",caption:"gallery"},{pathname:"gallery-2.jpg",caption:"gallery"},{pathname:"gallery-4.jpg",caption:"gallery"},{pathname:"gallery-15.jpeg",caption:"gallery"},{pathname:"gallery-16.jpeg",caption:"gallery"}],t=Tt(6),i=Hn(()=>{const y=[];for(let b=0;b<n.length;b+=t.value)y.push(n.slice(b,b+t.value));return y}),r=Tt(0),o=Tt(null);function a(y){const b=o.value;if(!b)return;const v=i.value.length;r.value=Math.max(0,Math.min(y,v-1)),b.scrollTo({left:r.value*b.clientWidth,behavior:"smooth"})}function s(){a(r.value+1)}function u(){a(r.value-1)}function l(){const y=o.value;y&&(r.value=Math.round(y.scrollLeft/y.clientWidth))}function c(){Wn(()=>a(r.value))}function d(y){y.key==="ArrowRight"&&s(),y.key==="ArrowLeft"&&u()}const f=[20,24,22,28,24,20,26,22,24];function p(y){return f[y%f.length]}let x=null;return Ke(async()=>{const y="ontouchstart"in window||navigator.maxTouchPoints>0;document.documentElement.classList.toggle("touch",y);const{default:b}=await Fn(()=>import("./glightbox.min.8eDexvw4.js").then(v=>v.g),__vite__mapDeps([]),import.meta.url);x=b({selector:".gallery-link",skin:"clean",loop:!0,touchNavigation:!0,openEffect:"zoom",closeEffect:"zoom",slideEffect:"fade",draggable:!0,width:"90vw",height:"auto"}),window.addEventListener("resize",c),window.addEventListener("keydown",d)}),Qe(()=>{x&&typeof x.destroy=="function"&&x.destroy(),window.removeEventListener("resize",c),window.removeEventListener("keydown",d)}),(y,b)=>(I(),P("section",eo,[_("header",no,[_("div",io,[_("div",ro,[_("button",{class:"nav-btn",onClick:u,disabled:r.value===0,"aria-label":"Previous"},ao,8,oo),_("button",{class:"nav-btn",onClick:s,disabled:r.value>=i.value.length-1,"aria-label":"Next"},uo,8,lo)])])]),_("div",ho,[_("div",{ref_key:"trackRef",ref:o,class:"carousel-track",onScrollPassive:l},[(I(!0),P(At,null,Kt(i.value,(v,$)=>(I(),P("div",{key:"page-"+$,class:"slide"},[_("article",fo,[(I(!0),P(At,null,Kt(v,(E,M)=>(I(),P("a",{key:"img-"+$+"-"+M,class:"gallery-link",style:Un({gridRowEnd:`span ${p($*t.value+M)}`}),href:`/images/${E.pathname}`,title:E.caption||E.alt||"Photo caption","data-gallery":"mican-gallery","data-glightbox":`title: ${E.caption||"Photo caption"}`},[_("figure",go,[_("img",{src:`/images/${E.pathname}`,alt:E.alt||E.caption||"Photo"},null,8,mo),_("figcaption",null,Vn(E.caption||"Photo caption"),1)])],12,po))),128))])]))),128))],544)]),i.value.length>1?(I(),P("div",_o,[(I(!0),P(At,null,Kt(i.value,(v,$)=>(I(),P("button",{key:"dot-"+$,class:qn(["dot",{active:$===r.value}]),onClick:E=>a($),"aria-label":`Go to page ${$+1}`},null,10,yo))),128))])):On("",!0)]))}});function vo(e,n){var t=0,i=0;return Float64Array.from(e,n===void 0?r=>t+=+r||0:r=>t+=+n(r,i++,e)||0)}function wo(e,n){let t;if(n===void 0)for(const i of e)i!=null&&(t<i||t===void 0&&i>=i)&&(t=i);else{let i=-1;for(let r of e)(r=n(r,++i,e))!=null&&(t<r||t===void 0&&r>=r)&&(t=r)}return t}function bo(e,n){let t;if(n===void 0)for(const i of e)i!=null&&(t>i||t===void 0&&i>=i)&&(t=i);else{let i=-1;for(let r of e)(r=n(r,++i,e))!=null&&(t>r||t===void 0&&r>=r)&&(t=r)}return t}function Co(e,n){let t=0;if(n===void 0)for(let i of e)(i=+i)&&(t+=i);else{let i=-1;for(let r of e)(r=+n(r,++i,e))&&(t+=r)}return t}var $o={value:()=>{}};function ye(){for(var e=0,n=arguments.length,t={},i;e<n;++e){if(!(i=arguments[e]+"")||i in t||/[\s.]/.test(i))throw new Error("illegal type: "+i);t[i]=[]}return new Lt(t)}function Lt(e){this._=e}function ko(e,n){return e.trim().split(/^|\s+/).map(function(t){var i="",r=t.indexOf(".");if(r>=0&&(i=t.slice(r+1),t=t.slice(0,r)),t&&!n.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:i}})}Lt.prototype=ye.prototype={constructor:Lt,on:function(e,n){var t=this._,i=ko(e+"",t),r,o=-1,a=i.length;if(arguments.length<2){for(;++o<a;)if((r=(e=i[o]).type)&&(r=Eo(t[r],e.name)))return r;return}if(n!=null&&typeof n!="function")throw new Error("invalid callback: "+n);for(;++o<a;)if(r=(e=i[o]).type)t[r]=Me(t[r],e.name,n);else if(n==null)for(r in t)t[r]=Me(t[r],e.name,null);return this},copy:function(){var e={},n=this._;for(var t in n)e[t]=n[t].slice();return new Lt(e)},call:function(e,n){if((r=arguments.length-2)>0)for(var t=new Array(r),i=0,r,o;i<r;++i)t[i]=arguments[i+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(o=this._[e],i=0,r=o.length;i<r;++i)o[i].value.apply(n,t)},apply:function(e,n,t){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var i=this._[e],r=0,o=i.length;r<o;++r)i[r].value.apply(n,t)}};function Eo(e,n){for(var t=0,i=e.length,r;t<i;++t)if((r=e[t]).name===n)return r.value}function Me(e,n,t){for(var i=0,r=e.length;i<r;++i)if(e[i].name===n){e[i]=$o,e=e.slice(0,i).concat(e.slice(i+1));break}return t!=null&&e.push({name:n,value:t}),e}var oe="http://www.w3.org/1999/xhtml";const Ne={svg:"http://www.w3.org/2000/svg",xhtml:oe,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Vt(e){var n=e+="",t=n.indexOf(":");return t>=0&&(n=e.slice(0,t))!=="xmlns"&&(e=e.slice(t+1)),Ne.hasOwnProperty(n)?{space:Ne[n],local:e}:e}function So(e){return function(){var n=this.ownerDocument,t=this.namespaceURI;return t===oe&&n.documentElement.namespaceURI===oe?n.createElement(e):n.createElementNS(t,e)}}function Mo(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function je(e){var n=Vt(e);return(n.local?Mo:So)(n)}function No(){}function xe(e){return e==null?No:function(){return this.querySelector(e)}}function Bo(e){typeof e!="function"&&(e=xe(e));for(var n=this._groups,t=n.length,i=new Array(t),r=0;r<t;++r)for(var o=n[r],a=o.length,s=i[r]=new Array(a),u,l,c=0;c<a;++c)(u=o[c])&&(l=e.call(u,u.__data__,c,o))&&("__data__"in u&&(l.__data__=u.__data__),s[c]=l);return new F(i,this._parents)}function zo(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function To(){return[]}function tn(e){return e==null?To:function(){return this.querySelectorAll(e)}}function Ao(e){return function(){return zo(e.apply(this,arguments))}}function Lo(e){typeof e=="function"?e=Ao(e):e=tn(e);for(var n=this._groups,t=n.length,i=[],r=[],o=0;o<t;++o)for(var a=n[o],s=a.length,u,l=0;l<s;++l)(u=a[l])&&(i.push(e.call(u,u.__data__,l,a)),r.push(u));return new F(i,r)}function en(e){return function(){return this.matches(e)}}function nn(e){return function(n){return n.matches(e)}}var Ro=Array.prototype.find;function Xo(e){return function(){return Ro.call(this.children,e)}}function Do(){return this.firstElementChild}function Io(e){return this.select(e==null?Do:Xo(typeof e=="function"?e:nn(e)))}var Po=Array.prototype.filter;function Yo(){return Array.from(this.children)}function Ho(e){return function(){return Po.call(this.children,e)}}function Fo(e){return this.selectAll(e==null?Yo:Ho(typeof e=="function"?e:nn(e)))}function Oo(e){typeof e!="function"&&(e=en(e));for(var n=this._groups,t=n.length,i=new Array(t),r=0;r<t;++r)for(var o=n[r],a=o.length,s=i[r]=[],u,l=0;l<a;++l)(u=o[l])&&e.call(u,u.__data__,l,o)&&s.push(u);return new F(i,this._parents)}function rn(e){return new Array(e.length)}function Wo(){return new F(this._enter||this._groups.map(rn),this._parents)}function Pt(e,n){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=n}Pt.prototype={constructor:Pt,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,n){return this._parent.insertBefore(e,n)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function Uo(e){return function(){return e}}function Vo(e,n,t,i,r,o){for(var a=0,s,u=n.length,l=o.length;a<l;++a)(s=n[a])?(s.__data__=o[a],i[a]=s):t[a]=new Pt(e,o[a]);for(;a<u;++a)(s=n[a])&&(r[a]=s)}function qo(e,n,t,i,r,o,a){var s,u,l=new Map,c=n.length,d=o.length,f=new Array(c),p;for(s=0;s<c;++s)(u=n[s])&&(f[s]=p=a.call(u,u.__data__,s,n)+"",l.has(p)?r[s]=u:l.set(p,u));for(s=0;s<d;++s)p=a.call(e,o[s],s,o)+"",(u=l.get(p))?(i[s]=u,u.__data__=o[s],l.delete(p)):t[s]=new Pt(e,o[s]);for(s=0;s<c;++s)(u=n[s])&&l.get(f[s])===u&&(r[s]=u)}function Go(e){return e.__data__}function Jo(e,n){if(!arguments.length)return Array.from(this,Go);var t=n?qo:Vo,i=this._parents,r=this._groups;typeof e!="function"&&(e=Uo(e));for(var o=r.length,a=new Array(o),s=new Array(o),u=new Array(o),l=0;l<o;++l){var c=i[l],d=r[l],f=d.length,p=Zo(e.call(c,c&&c.__data__,l,i)),x=p.length,y=s[l]=new Array(x),b=a[l]=new Array(x),v=u[l]=new Array(f);t(c,d,y,b,v,p,n);for(var $=0,E=0,M,T;$<x;++$)if(M=y[$]){for($>=E&&(E=$+1);!(T=b[E])&&++E<x;);M._next=T||null}}return a=new F(a,i),a._enter=s,a._exit=u,a}function Zo(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function Ko(){return new F(this._exit||this._groups.map(rn),this._parents)}function Qo(e,n,t){var i=this.enter(),r=this,o=this.exit();return typeof e=="function"?(i=e(i),i&&(i=i.selection())):i=i.append(e+""),n!=null&&(r=n(r),r&&(r=r.selection())),t==null?o.remove():t(o),i&&r?i.merge(r).order():r}function jo(e){for(var n=e.selection?e.selection():e,t=this._groups,i=n._groups,r=t.length,o=i.length,a=Math.min(r,o),s=new Array(r),u=0;u<a;++u)for(var l=t[u],c=i[u],d=l.length,f=s[u]=new Array(d),p,x=0;x<d;++x)(p=l[x]||c[x])&&(f[x]=p);for(;u<r;++u)s[u]=t[u];return new F(s,this._parents)}function ts(){for(var e=this._groups,n=-1,t=e.length;++n<t;)for(var i=e[n],r=i.length-1,o=i[r],a;--r>=0;)(a=i[r])&&(o&&a.compareDocumentPosition(o)^4&&o.parentNode.insertBefore(a,o),o=a);return this}function es(e){e||(e=ns);function n(d,f){return d&&f?e(d.__data__,f.__data__):!d-!f}for(var t=this._groups,i=t.length,r=new Array(i),o=0;o<i;++o){for(var a=t[o],s=a.length,u=r[o]=new Array(s),l,c=0;c<s;++c)(l=a[c])&&(u[c]=l);u.sort(n)}return new F(r,this._parents).order()}function ns(e,n){return e<n?-1:e>n?1:e>=n?0:NaN}function is(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function rs(){return Array.from(this)}function os(){for(var e=this._groups,n=0,t=e.length;n<t;++n)for(var i=e[n],r=0,o=i.length;r<o;++r){var a=i[r];if(a)return a}return null}function ss(){let e=0;for(const n of this)++e;return e}function as(){return!this.node()}function ls(e){for(var n=this._groups,t=0,i=n.length;t<i;++t)for(var r=n[t],o=0,a=r.length,s;o<a;++o)(s=r[o])&&e.call(s,s.__data__,o,r);return this}function cs(e){return function(){this.removeAttribute(e)}}function us(e){return function(){this.removeAttributeNS(e.space,e.local)}}function hs(e,n){return function(){this.setAttribute(e,n)}}function ds(e,n){return function(){this.setAttributeNS(e.space,e.local,n)}}function fs(e,n){return function(){var t=n.apply(this,arguments);t==null?this.removeAttribute(e):this.setAttribute(e,t)}}function ps(e,n){return function(){var t=n.apply(this,arguments);t==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,t)}}function gs(e,n){var t=Vt(e);if(arguments.length<2){var i=this.node();return t.local?i.getAttributeNS(t.space,t.local):i.getAttribute(t)}return this.each((n==null?t.local?us:cs:typeof n=="function"?t.local?ps:fs:t.local?ds:hs)(t,n))}function on(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function ms(e){return function(){this.style.removeProperty(e)}}function _s(e,n,t){return function(){this.style.setProperty(e,n,t)}}function ys(e,n,t){return function(){var i=n.apply(this,arguments);i==null?this.style.removeProperty(e):this.style.setProperty(e,i,t)}}function xs(e,n,t){return arguments.length>1?this.each((n==null?ms:typeof n=="function"?ys:_s)(e,n,t??"")):ht(this.node(),e)}function ht(e,n){return e.style.getPropertyValue(n)||on(e).getComputedStyle(e,null).getPropertyValue(n)}function vs(e){return function(){delete this[e]}}function ws(e,n){return function(){this[e]=n}}function bs(e,n){return function(){var t=n.apply(this,arguments);t==null?delete this[e]:this[e]=t}}function Cs(e,n){return arguments.length>1?this.each((n==null?vs:typeof n=="function"?bs:ws)(e,n)):this.node()[e]}function sn(e){return e.trim().split(/^|\s+/)}function ve(e){return e.classList||new an(e)}function an(e){this._node=e,this._names=sn(e.getAttribute("class")||"")}an.prototype={add:function(e){var n=this._names.indexOf(e);n<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var n=this._names.indexOf(e);n>=0&&(this._names.splice(n,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function ln(e,n){for(var t=ve(e),i=-1,r=n.length;++i<r;)t.add(n[i])}function cn(e,n){for(var t=ve(e),i=-1,r=n.length;++i<r;)t.remove(n[i])}function $s(e){return function(){ln(this,e)}}function ks(e){return function(){cn(this,e)}}function Es(e,n){return function(){(n.apply(this,arguments)?ln:cn)(this,e)}}function Ss(e,n){var t=sn(e+"");if(arguments.length<2){for(var i=ve(this.node()),r=-1,o=t.length;++r<o;)if(!i.contains(t[r]))return!1;return!0}return this.each((typeof n=="function"?Es:n?$s:ks)(t,n))}function Ms(){this.textContent=""}function Ns(e){return function(){this.textContent=e}}function Bs(e){return function(){var n=e.apply(this,arguments);this.textContent=n??""}}function zs(e){return arguments.length?this.each(e==null?Ms:(typeof e=="function"?Bs:Ns)(e)):this.node().textContent}function Ts(){this.innerHTML=""}function As(e){return function(){this.innerHTML=e}}function Ls(e){return function(){var n=e.apply(this,arguments);this.innerHTML=n??""}}function Rs(e){return arguments.length?this.each(e==null?Ts:(typeof e=="function"?Ls:As)(e)):this.node().innerHTML}function Xs(){this.nextSibling&&this.parentNode.appendChild(this)}function Ds(){return this.each(Xs)}function Is(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Ps(){return this.each(Is)}function Ys(e){var n=typeof e=="function"?e:je(e);return this.select(function(){return this.appendChild(n.apply(this,arguments))})}function Hs(){return null}function Fs(e,n){var t=typeof e=="function"?e:je(e),i=n==null?Hs:typeof n=="function"?n:xe(n);return this.select(function(){return this.insertBefore(t.apply(this,arguments),i.apply(this,arguments)||null)})}function Os(){var e=this.parentNode;e&&e.removeChild(this)}function Ws(){return this.each(Os)}function Us(){var e=this.cloneNode(!1),n=this.parentNode;return n?n.insertBefore(e,this.nextSibling):e}function Vs(){var e=this.cloneNode(!0),n=this.parentNode;return n?n.insertBefore(e,this.nextSibling):e}function qs(e){return this.select(e?Vs:Us)}function Gs(e){return arguments.length?this.property("__data__",e):this.node().__data__}function Js(e){return function(n){e.call(this,n,this.__data__)}}function Zs(e){return e.trim().split(/^|\s+/).map(function(n){var t="",i=n.indexOf(".");return i>=0&&(t=n.slice(i+1),n=n.slice(0,i)),{type:n,name:t}})}function Ks(e){return function(){var n=this.__on;if(n){for(var t=0,i=-1,r=n.length,o;t<r;++t)o=n[t],(!e.type||o.type===e.type)&&o.name===e.name?this.removeEventListener(o.type,o.listener,o.options):n[++i]=o;++i?n.length=i:delete this.__on}}}function Qs(e,n,t){return function(){var i=this.__on,r,o=Js(n);if(i){for(var a=0,s=i.length;a<s;++a)if((r=i[a]).type===e.type&&r.name===e.name){this.removeEventListener(r.type,r.listener,r.options),this.addEventListener(r.type,r.listener=o,r.options=t),r.value=n;return}}this.addEventListener(e.type,o,t),r={type:e.type,name:e.name,value:n,listener:o,options:t},i?i.push(r):this.__on=[r]}}function js(e,n,t){var i=Zs(e+""),r,o=i.length,a;if(arguments.length<2){var s=this.node().__on;if(s){for(var u=0,l=s.length,c;u<l;++u)for(r=0,c=s[u];r<o;++r)if((a=i[r]).type===c.type&&a.name===c.name)return c.value}return}for(s=n?Qs:Ks,r=0;r<o;++r)this.each(s(i[r],n,t));return this}function un(e,n,t){var i=on(e),r=i.CustomEvent;typeof r=="function"?r=new r(n,t):(r=i.document.createEvent("Event"),t?(r.initEvent(n,t.bubbles,t.cancelable),r.detail=t.detail):r.initEvent(n,!1,!1)),e.dispatchEvent(r)}function ta(e,n){return function(){return un(this,e,n)}}function ea(e,n){return function(){return un(this,e,n.apply(this,arguments))}}function na(e,n){return this.each((typeof n=="function"?ea:ta)(e,n))}function*ia(){for(var e=this._groups,n=0,t=e.length;n<t;++n)for(var i=e[n],r=0,o=i.length,a;r<o;++r)(a=i[r])&&(yield a)}var hn=[null];function F(e,n){this._groups=e,this._parents=n}function pt(){return new F([[document.documentElement]],hn)}function ra(){return this}F.prototype=pt.prototype={constructor:F,select:Bo,selectAll:Lo,selectChild:Io,selectChildren:Fo,filter:Oo,data:Jo,enter:Wo,exit:Ko,join:Qo,merge:jo,selection:ra,order:ts,sort:es,call:is,nodes:rs,node:os,size:ss,empty:as,each:ls,attr:gs,style:xs,property:Cs,classed:Ss,text:zs,html:Rs,raise:Ds,lower:Ps,append:Ys,insert:Fs,remove:Ws,clone:qs,datum:Gs,on:js,dispatch:na,[Symbol.iterator]:ia};function W(e){return typeof e=="string"?new F([[document.querySelector(e)]],[document.documentElement]):new F([[e]],hn)}function oa(e){let n;for(;n=e.sourceEvent;)e=n;return e}function ot(e,n){if(e=oa(e),n===void 0&&(n=e.currentTarget),n){var t=n.ownerSVGElement||n;if(t.createSVGPoint){var i=t.createSVGPoint();return i.x=e.clientX,i.y=e.clientY,i=i.matrixTransform(n.getScreenCTM().inverse()),[i.x,i.y]}if(n.getBoundingClientRect){var r=n.getBoundingClientRect();return[e.clientX-r.left-n.clientLeft,e.clientY-r.top-n.clientTop]}}return[e.pageX,e.pageY]}const se={capture:!0,passive:!1};function ae(e){e.preventDefault(),e.stopImmediatePropagation()}function sa(e){var n=e.document.documentElement,t=W(e).on("dragstart.drag",ae,se);"onselectstart"in n?t.on("selectstart.drag",ae,se):(n.__noselect=n.style.MozUserSelect,n.style.MozUserSelect="none")}function aa(e,n){var t=e.document.documentElement,i=W(e).on("dragstart.drag",null);n&&(i.on("click.drag",ae,se),setTimeout(function(){i.on("click.drag",null)},0)),"onselectstart"in t?i.on("selectstart.drag",null):(t.style.MozUserSelect=t.__noselect,delete t.__noselect)}function we(e,n,t){e.prototype=n.prototype=t,t.constructor=e}function dn(e,n){var t=Object.create(e.prototype);for(var i in n)t[i]=n[i];return t}function Et(){}var wt=.7,Yt=1/wt,ut="\\s*([+-]?\\d+)\\s*",bt="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Z="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",la=/^#([0-9a-f]{3,8})$/,ca=new RegExp(`^rgb\\(${ut},${ut},${ut}\\)$`),ua=new RegExp(`^rgb\\(${Z},${Z},${Z}\\)$`),ha=new RegExp(`^rgba\\(${ut},${ut},${ut},${bt}\\)$`),da=new RegExp(`^rgba\\(${Z},${Z},${Z},${bt}\\)$`),fa=new RegExp(`^hsl\\(${bt},${Z},${Z}\\)$`),pa=new RegExp(`^hsla\\(${bt},${Z},${Z},${bt}\\)$`),Be={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};we(Et,Ct,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:ze,formatHex:ze,formatHex8:ga,formatHsl:ma,formatRgb:Te,toString:Te});function ze(){return this.rgb().formatHex()}function ga(){return this.rgb().formatHex8()}function ma(){return fn(this).formatHsl()}function Te(){return this.rgb().formatRgb()}function Ct(e){var n,t;return e=(e+"").trim().toLowerCase(),(n=la.exec(e))?(t=n[1].length,n=parseInt(n[1],16),t===6?Ae(n):t===3?new Y(n>>8&15|n>>4&240,n>>4&15|n&240,(n&15)<<4|n&15,1):t===8?Mt(n>>24&255,n>>16&255,n>>8&255,(n&255)/255):t===4?Mt(n>>12&15|n>>8&240,n>>8&15|n>>4&240,n>>4&15|n&240,((n&15)<<4|n&15)/255):null):(n=ca.exec(e))?new Y(n[1],n[2],n[3],1):(n=ua.exec(e))?new Y(n[1]*255/100,n[2]*255/100,n[3]*255/100,1):(n=ha.exec(e))?Mt(n[1],n[2],n[3],n[4]):(n=da.exec(e))?Mt(n[1]*255/100,n[2]*255/100,n[3]*255/100,n[4]):(n=fa.exec(e))?Xe(n[1],n[2]/100,n[3]/100,1):(n=pa.exec(e))?Xe(n[1],n[2]/100,n[3]/100,n[4]):Be.hasOwnProperty(e)?Ae(Be[e]):e==="transparent"?new Y(NaN,NaN,NaN,0):null}function Ae(e){return new Y(e>>16&255,e>>8&255,e&255,1)}function Mt(e,n,t,i){return i<=0&&(e=n=t=NaN),new Y(e,n,t,i)}function _a(e){return e instanceof Et||(e=Ct(e)),e?(e=e.rgb(),new Y(e.r,e.g,e.b,e.opacity)):new Y}function le(e,n,t,i){return arguments.length===1?_a(e):new Y(e,n,t,i??1)}function Y(e,n,t,i){this.r=+e,this.g=+n,this.b=+t,this.opacity=+i}we(Y,le,dn(Et,{brighter(e){return e=e==null?Yt:Math.pow(Yt,e),new Y(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?wt:Math.pow(wt,e),new Y(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Y(lt(this.r),lt(this.g),lt(this.b),Ht(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Le,formatHex:Le,formatHex8:ya,formatRgb:Re,toString:Re}));function Le(){return`#${at(this.r)}${at(this.g)}${at(this.b)}`}function ya(){return`#${at(this.r)}${at(this.g)}${at(this.b)}${at((isNaN(this.opacity)?1:this.opacity)*255)}`}function Re(){const e=Ht(this.opacity);return`${e===1?"rgb(":"rgba("}${lt(this.r)}, ${lt(this.g)}, ${lt(this.b)}${e===1?")":`, ${e})`}`}function Ht(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function lt(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function at(e){return e=lt(e),(e<16?"0":"")+e.toString(16)}function Xe(e,n,t,i){return i<=0?e=n=t=NaN:t<=0||t>=1?e=n=NaN:n<=0&&(e=NaN),new q(e,n,t,i)}function fn(e){if(e instanceof q)return new q(e.h,e.s,e.l,e.opacity);if(e instanceof Et||(e=Ct(e)),!e)return new q;if(e instanceof q)return e;e=e.rgb();var n=e.r/255,t=e.g/255,i=e.b/255,r=Math.min(n,t,i),o=Math.max(n,t,i),a=NaN,s=o-r,u=(o+r)/2;return s?(n===o?a=(t-i)/s+(t<i)*6:t===o?a=(i-n)/s+2:a=(n-t)/s+4,s/=u<.5?o+r:2-o-r,a*=60):s=u>0&&u<1?0:a,new q(a,s,u,e.opacity)}function xa(e,n,t,i){return arguments.length===1?fn(e):new q(e,n,t,i??1)}function q(e,n,t,i){this.h=+e,this.s=+n,this.l=+t,this.opacity=+i}we(q,xa,dn(Et,{brighter(e){return e=e==null?Yt:Math.pow(Yt,e),new q(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?wt:Math.pow(wt,e),new q(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,n=isNaN(e)||isNaN(this.s)?0:this.s,t=this.l,i=t+(t<.5?t:1-t)*n,r=2*t-i;return new Y(Qt(e>=240?e-240:e+120,r,i),Qt(e,r,i),Qt(e<120?e+240:e-120,r,i),this.opacity)},clamp(){return new q(De(this.h),Nt(this.s),Nt(this.l),Ht(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Ht(this.opacity);return`${e===1?"hsl(":"hsla("}${De(this.h)}, ${Nt(this.s)*100}%, ${Nt(this.l)*100}%${e===1?")":`, ${e})`}`}}));function De(e){return e=(e||0)%360,e<0?e+360:e}function Nt(e){return Math.max(0,Math.min(1,e||0))}function Qt(e,n,t){return(e<60?n+(t-n)*e/60:e<180?t:e<240?n+(t-n)*(240-e)/60:n)*255}const pn=e=>()=>e;function va(e,n){return function(t){return e+t*n}}function wa(e,n,t){return e=Math.pow(e,t),n=Math.pow(n,t)-e,t=1/t,function(i){return Math.pow(e+i*n,t)}}function ba(e){return(e=+e)==1?gn:function(n,t){return t-n?wa(n,t,e):pn(isNaN(n)?t:n)}}function gn(e,n){var t=n-e;return t?va(e,t):pn(isNaN(e)?n:e)}const Ie=function e(n){var t=ba(n);function i(r,o){var a=t((r=le(r)).r,(o=le(o)).r),s=t(r.g,o.g),u=t(r.b,o.b),l=gn(r.opacity,o.opacity);return function(c){return r.r=a(c),r.g=s(c),r.b=u(c),r.opacity=l(c),r+""}}return i.gamma=e,i}(1);function rt(e,n){return e=+e,n=+n,function(t){return e*(1-t)+n*t}}var ce=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,jt=new RegExp(ce.source,"g");function Ca(e){return function(){return e}}function $a(e){return function(n){return e(n)+""}}function ka(e,n){var t=ce.lastIndex=jt.lastIndex=0,i,r,o,a=-1,s=[],u=[];for(e=e+"",n=n+"";(i=ce.exec(e))&&(r=jt.exec(n));)(o=r.index)>t&&(o=n.slice(t,o),s[a]?s[a]+=o:s[++a]=o),(i=i[0])===(r=r[0])?s[a]?s[a]+=r:s[++a]=r:(s[++a]=null,u.push({i:a,x:rt(i,r)})),t=jt.lastIndex;return t<n.length&&(o=n.slice(t),s[a]?s[a]+=o:s[++a]=o),s.length<2?u[0]?$a(u[0].x):Ca(n):(n=u.length,function(l){for(var c=0,d;c<n;++c)s[(d=u[c]).i]=d.x(l);return s.join("")})}var Pe=180/Math.PI,ue={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function mn(e,n,t,i,r,o){var a,s,u;return(a=Math.sqrt(e*e+n*n))&&(e/=a,n/=a),(u=e*t+n*i)&&(t-=e*u,i-=n*u),(s=Math.sqrt(t*t+i*i))&&(t/=s,i/=s,u/=s),e*i<n*t&&(e=-e,n=-n,u=-u,a=-a),{translateX:r,translateY:o,rotate:Math.atan2(n,e)*Pe,skewX:Math.atan(u)*Pe,scaleX:a,scaleY:s}}var Bt;function Ea(e){const n=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return n.isIdentity?ue:mn(n.a,n.b,n.c,n.d,n.e,n.f)}function Sa(e){return e==null||(Bt||(Bt=document.createElementNS("http://www.w3.org/2000/svg","g")),Bt.setAttribute("transform",e),!(e=Bt.transform.baseVal.consolidate()))?ue:(e=e.matrix,mn(e.a,e.b,e.c,e.d,e.e,e.f))}function _n(e,n,t,i){function r(l){return l.length?l.pop()+" ":""}function o(l,c,d,f,p,x){if(l!==d||c!==f){var y=p.push("translate(",null,n,null,t);x.push({i:y-4,x:rt(l,d)},{i:y-2,x:rt(c,f)})}else(d||f)&&p.push("translate("+d+n+f+t)}function a(l,c,d,f){l!==c?(l-c>180?c+=360:c-l>180&&(l+=360),f.push({i:d.push(r(d)+"rotate(",null,i)-2,x:rt(l,c)})):c&&d.push(r(d)+"rotate("+c+i)}function s(l,c,d,f){l!==c?f.push({i:d.push(r(d)+"skewX(",null,i)-2,x:rt(l,c)}):c&&d.push(r(d)+"skewX("+c+i)}function u(l,c,d,f,p,x){if(l!==d||c!==f){var y=p.push(r(p)+"scale(",null,",",null,")");x.push({i:y-4,x:rt(l,d)},{i:y-2,x:rt(c,f)})}else(d!==1||f!==1)&&p.push(r(p)+"scale("+d+","+f+")")}return function(l,c){var d=[],f=[];return l=e(l),c=e(c),o(l.translateX,l.translateY,c.translateX,c.translateY,d,f),a(l.rotate,c.rotate,d,f),s(l.skewX,c.skewX,d,f),u(l.scaleX,l.scaleY,c.scaleX,c.scaleY,d,f),l=c=null,function(p){for(var x=-1,y=f.length,b;++x<y;)d[(b=f[x]).i]=b.x(p);return d.join("")}}}var Ma=_n(Ea,"px, ","px)","deg)"),Na=_n(Sa,", ",")",")"),Ba=1e-12;function Ye(e){return((e=Math.exp(e))+1/e)/2}function za(e){return((e=Math.exp(e))-1/e)/2}function Ta(e){return((e=Math.exp(2*e))-1)/(e+1)}const Aa=function e(n,t,i){function r(o,a){var s=o[0],u=o[1],l=o[2],c=a[0],d=a[1],f=a[2],p=c-s,x=d-u,y=p*p+x*x,b,v;if(y<Ba)v=Math.log(f/l)/n,b=function(D){return[s+D*p,u+D*x,l*Math.exp(n*D*v)]};else{var $=Math.sqrt(y),E=(f*f-l*l+i*y)/(2*l*t*$),M=(f*f-l*l-i*y)/(2*f*t*$),T=Math.log(Math.sqrt(E*E+1)-E),X=Math.log(Math.sqrt(M*M+1)-M);v=(X-T)/n,b=function(D){var Q=D*v,O=Ye(T),gt=l/(t*$)*(O*Ta(n*Q+T)-za(T));return[s+gt*p,u+gt*x,l*O/Ye(n*Q+T)]}}return b.duration=v*1e3*n/Math.SQRT2,b}return r.rho=function(o){var a=Math.max(.001,+o),s=a*a,u=s*s;return e(a,s,u)},r}(Math.SQRT2,2,4);var dt=0,xt=0,_t=0,yn=1e3,Ft,vt,Ot=0,ct=0,qt=0,$t=typeof performance=="object"&&performance.now?performance:Date,xn=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function be(){return ct||(xn(La),ct=$t.now()+qt)}function La(){ct=0}function Wt(){this._call=this._time=this._next=null}Wt.prototype=vn.prototype={constructor:Wt,restart:function(e,n,t){if(typeof e!="function")throw new TypeError("callback is not a function");t=(t==null?be():+t)+(n==null?0:+n),!this._next&&vt!==this&&(vt?vt._next=this:Ft=this,vt=this),this._call=e,this._time=t,he()},stop:function(){this._call&&(this._call=null,this._time=1/0,he())}};function vn(e,n,t){var i=new Wt;return i.restart(e,n,t),i}function Ra(){be(),++dt;for(var e=Ft,n;e;)(n=ct-e._time)>=0&&e._call.call(void 0,n),e=e._next;--dt}function He(){ct=(Ot=$t.now())+qt,dt=xt=0;try{Ra()}finally{dt=0,Da(),ct=0}}function Xa(){var e=$t.now(),n=e-Ot;n>yn&&(qt-=n,Ot=e)}function Da(){for(var e,n=Ft,t,i=1/0;n;)n._call?(i>n._time&&(i=n._time),e=n,n=n._next):(t=n._next,n._next=null,n=e?e._next=t:Ft=t);vt=e,he(i)}function he(e){if(!dt){xt&&(xt=clearTimeout(xt));var n=e-ct;n>24?(e<1/0&&(xt=setTimeout(He,e-$t.now()-qt)),_t&&(_t=clearInterval(_t))):(_t||(Ot=$t.now(),_t=setInterval(Xa,yn)),dt=1,xn(He))}}function Fe(e,n,t){var i=new Wt;return n=n==null?0:+n,i.restart(r=>{i.stop(),e(r+n)},n,t),i}var Ia=ye("start","end","cancel","interrupt"),Pa=[],wn=0,Oe=1,de=2,Rt=3,We=4,fe=5,Xt=6;function Gt(e,n,t,i,r,o){var a=e.__transition;if(!a)e.__transition={};else if(t in a)return;Ya(e,t,{name:n,index:i,group:r,on:Ia,tween:Pa,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:wn})}function Ce(e,n){var t=G(e,n);if(t.state>wn)throw new Error("too late; already scheduled");return t}function K(e,n){var t=G(e,n);if(t.state>Rt)throw new Error("too late; already running");return t}function G(e,n){var t=e.__transition;if(!t||!(t=t[n]))throw new Error("transition not found");return t}function Ya(e,n,t){var i=e.__transition,r;i[n]=t,t.timer=vn(o,0,t.time);function o(l){t.state=Oe,t.timer.restart(a,t.delay,t.time),t.delay<=l&&a(l-t.delay)}function a(l){var c,d,f,p;if(t.state!==Oe)return u();for(c in i)if(p=i[c],p.name===t.name){if(p.state===Rt)return Fe(a);p.state===We?(p.state=Xt,p.timer.stop(),p.on.call("interrupt",e,e.__data__,p.index,p.group),delete i[c]):+c<n&&(p.state=Xt,p.timer.stop(),p.on.call("cancel",e,e.__data__,p.index,p.group),delete i[c])}if(Fe(function(){t.state===Rt&&(t.state=We,t.timer.restart(s,t.delay,t.time),s(l))}),t.state=de,t.on.call("start",e,e.__data__,t.index,t.group),t.state===de){for(t.state=Rt,r=new Array(f=t.tween.length),c=0,d=-1;c<f;++c)(p=t.tween[c].value.call(e,e.__data__,t.index,t.group))&&(r[++d]=p);r.length=d+1}}function s(l){for(var c=l<t.duration?t.ease.call(null,l/t.duration):(t.timer.restart(u),t.state=fe,1),d=-1,f=r.length;++d<f;)r[d].call(e,c);t.state===fe&&(t.on.call("end",e,e.__data__,t.index,t.group),u())}function u(){t.state=Xt,t.timer.stop(),delete i[n];for(var l in i)return;delete e.__transition}}function Dt(e,n){var t=e.__transition,i,r,o=!0,a;if(t){n=n==null?null:n+"";for(a in t){if((i=t[a]).name!==n){o=!1;continue}r=i.state>de&&i.state<fe,i.state=Xt,i.timer.stop(),i.on.call(r?"interrupt":"cancel",e,e.__data__,i.index,i.group),delete t[a]}o&&delete e.__transition}}function Ha(e){return this.each(function(){Dt(this,e)})}function Fa(e,n){var t,i;return function(){var r=K(this,e),o=r.tween;if(o!==t){i=t=o;for(var a=0,s=i.length;a<s;++a)if(i[a].name===n){i=i.slice(),i.splice(a,1);break}}r.tween=i}}function Oa(e,n,t){var i,r;if(typeof t!="function")throw new Error;return function(){var o=K(this,e),a=o.tween;if(a!==i){r=(i=a).slice();for(var s={name:n,value:t},u=0,l=r.length;u<l;++u)if(r[u].name===n){r[u]=s;break}u===l&&r.push(s)}o.tween=r}}function Wa(e,n){var t=this._id;if(e+="",arguments.length<2){for(var i=G(this.node(),t).tween,r=0,o=i.length,a;r<o;++r)if((a=i[r]).name===e)return a.value;return null}return this.each((n==null?Fa:Oa)(t,e,n))}function $e(e,n,t){var i=e._id;return e.each(function(){var r=K(this,i);(r.value||(r.value={}))[n]=t.apply(this,arguments)}),function(r){return G(r,i).value[n]}}function bn(e,n){var t;return(typeof n=="number"?rt:n instanceof Ct?Ie:(t=Ct(n))?(n=t,Ie):ka)(e,n)}function Ua(e){return function(){this.removeAttribute(e)}}function Va(e){return function(){this.removeAttributeNS(e.space,e.local)}}function qa(e,n,t){var i,r=t+"",o;return function(){var a=this.getAttribute(e);return a===r?null:a===i?o:o=n(i=a,t)}}function Ga(e,n,t){var i,r=t+"",o;return function(){var a=this.getAttributeNS(e.space,e.local);return a===r?null:a===i?o:o=n(i=a,t)}}function Ja(e,n,t){var i,r,o;return function(){var a,s=t(this),u;return s==null?void this.removeAttribute(e):(a=this.getAttribute(e),u=s+"",a===u?null:a===i&&u===r?o:(r=u,o=n(i=a,s)))}}function Za(e,n,t){var i,r,o;return function(){var a,s=t(this),u;return s==null?void this.removeAttributeNS(e.space,e.local):(a=this.getAttributeNS(e.space,e.local),u=s+"",a===u?null:a===i&&u===r?o:(r=u,o=n(i=a,s)))}}function Ka(e,n){var t=Vt(e),i=t==="transform"?Na:bn;return this.attrTween(e,typeof n=="function"?(t.local?Za:Ja)(t,i,$e(this,"attr."+e,n)):n==null?(t.local?Va:Ua)(t):(t.local?Ga:qa)(t,i,n))}function Qa(e,n){return function(t){this.setAttribute(e,n.call(this,t))}}function ja(e,n){return function(t){this.setAttributeNS(e.space,e.local,n.call(this,t))}}function tl(e,n){var t,i;function r(){var o=n.apply(this,arguments);return o!==i&&(t=(i=o)&&ja(e,o)),t}return r._value=n,r}function el(e,n){var t,i;function r(){var o=n.apply(this,arguments);return o!==i&&(t=(i=o)&&Qa(e,o)),t}return r._value=n,r}function nl(e,n){var t="attr."+e;if(arguments.length<2)return(t=this.tween(t))&&t._value;if(n==null)return this.tween(t,null);if(typeof n!="function")throw new Error;var i=Vt(e);return this.tween(t,(i.local?tl:el)(i,n))}function il(e,n){return function(){Ce(this,e).delay=+n.apply(this,arguments)}}function rl(e,n){return n=+n,function(){Ce(this,e).delay=n}}function ol(e){var n=this._id;return arguments.length?this.each((typeof e=="function"?il:rl)(n,e)):G(this.node(),n).delay}function sl(e,n){return function(){K(this,e).duration=+n.apply(this,arguments)}}function al(e,n){return n=+n,function(){K(this,e).duration=n}}function ll(e){var n=this._id;return arguments.length?this.each((typeof e=="function"?sl:al)(n,e)):G(this.node(),n).duration}function cl(e,n){if(typeof n!="function")throw new Error;return function(){K(this,e).ease=n}}function ul(e){var n=this._id;return arguments.length?this.each(cl(n,e)):G(this.node(),n).ease}function hl(e,n){return function(){var t=n.apply(this,arguments);if(typeof t!="function")throw new Error;K(this,e).ease=t}}function dl(e){if(typeof e!="function")throw new Error;return this.each(hl(this._id,e))}function fl(e){typeof e!="function"&&(e=en(e));for(var n=this._groups,t=n.length,i=new Array(t),r=0;r<t;++r)for(var o=n[r],a=o.length,s=i[r]=[],u,l=0;l<a;++l)(u=o[l])&&e.call(u,u.__data__,l,o)&&s.push(u);return new it(i,this._parents,this._name,this._id)}function pl(e){if(e._id!==this._id)throw new Error;for(var n=this._groups,t=e._groups,i=n.length,r=t.length,o=Math.min(i,r),a=new Array(i),s=0;s<o;++s)for(var u=n[s],l=t[s],c=u.length,d=a[s]=new Array(c),f,p=0;p<c;++p)(f=u[p]||l[p])&&(d[p]=f);for(;s<i;++s)a[s]=n[s];return new it(a,this._parents,this._name,this._id)}function gl(e){return(e+"").trim().split(/^|\s+/).every(function(n){var t=n.indexOf(".");return t>=0&&(n=n.slice(0,t)),!n||n==="start"})}function ml(e,n,t){var i,r,o=gl(n)?Ce:K;return function(){var a=o(this,e),s=a.on;s!==i&&(r=(i=s).copy()).on(n,t),a.on=r}}function _l(e,n){var t=this._id;return arguments.length<2?G(this.node(),t).on.on(e):this.each(ml(t,e,n))}function yl(e){return function(){var n=this.parentNode;for(var t in this.__transition)if(+t!==e)return;n&&n.removeChild(this)}}function xl(){return this.on("end.remove",yl(this._id))}function vl(e){var n=this._name,t=this._id;typeof e!="function"&&(e=xe(e));for(var i=this._groups,r=i.length,o=new Array(r),a=0;a<r;++a)for(var s=i[a],u=s.length,l=o[a]=new Array(u),c,d,f=0;f<u;++f)(c=s[f])&&(d=e.call(c,c.__data__,f,s))&&("__data__"in c&&(d.__data__=c.__data__),l[f]=d,Gt(l[f],n,t,f,l,G(c,t)));return new it(o,this._parents,n,t)}function wl(e){var n=this._name,t=this._id;typeof e!="function"&&(e=tn(e));for(var i=this._groups,r=i.length,o=[],a=[],s=0;s<r;++s)for(var u=i[s],l=u.length,c,d=0;d<l;++d)if(c=u[d]){for(var f=e.call(c,c.__data__,d,u),p,x=G(c,t),y=0,b=f.length;y<b;++y)(p=f[y])&&Gt(p,n,t,y,f,x);o.push(f),a.push(c)}return new it(o,a,n,t)}var bl=pt.prototype.constructor;function Cl(){return new bl(this._groups,this._parents)}function $l(e,n){var t,i,r;return function(){var o=ht(this,e),a=(this.style.removeProperty(e),ht(this,e));return o===a?null:o===t&&a===i?r:r=n(t=o,i=a)}}function Cn(e){return function(){this.style.removeProperty(e)}}function kl(e,n,t){var i,r=t+"",o;return function(){var a=ht(this,e);return a===r?null:a===i?o:o=n(i=a,t)}}function El(e,n,t){var i,r,o;return function(){var a=ht(this,e),s=t(this),u=s+"";return s==null&&(u=s=(this.style.removeProperty(e),ht(this,e))),a===u?null:a===i&&u===r?o:(r=u,o=n(i=a,s))}}function Sl(e,n){var t,i,r,o="style."+n,a="end."+o,s;return function(){var u=K(this,e),l=u.on,c=u.value[o]==null?s||(s=Cn(n)):void 0;(l!==t||r!==c)&&(i=(t=l).copy()).on(a,r=c),u.on=i}}function Ml(e,n,t){var i=(e+="")=="transform"?Ma:bn;return n==null?this.styleTween(e,$l(e,i)).on("end.style."+e,Cn(e)):typeof n=="function"?this.styleTween(e,El(e,i,$e(this,"style."+e,n))).each(Sl(this._id,e)):this.styleTween(e,kl(e,i,n),t).on("end.style."+e,null)}function Nl(e,n,t){return function(i){this.style.setProperty(e,n.call(this,i),t)}}function Bl(e,n,t){var i,r;function o(){var a=n.apply(this,arguments);return a!==r&&(i=(r=a)&&Nl(e,a,t)),i}return o._value=n,o}function zl(e,n,t){var i="style."+(e+="");if(arguments.length<2)return(i=this.tween(i))&&i._value;if(n==null)return this.tween(i,null);if(typeof n!="function")throw new Error;return this.tween(i,Bl(e,n,t??""))}function Tl(e){return function(){this.textContent=e}}function Al(e){return function(){var n=e(this);this.textContent=n??""}}function Ll(e){return this.tween("text",typeof e=="function"?Al($e(this,"text",e)):Tl(e==null?"":e+""))}function Rl(e){return function(n){this.textContent=e.call(this,n)}}function Xl(e){var n,t;function i(){var r=e.apply(this,arguments);return r!==t&&(n=(t=r)&&Rl(r)),n}return i._value=e,i}function Dl(e){var n="text";if(arguments.length<1)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;return this.tween(n,Xl(e))}function Il(){for(var e=this._name,n=this._id,t=$n(),i=this._groups,r=i.length,o=0;o<r;++o)for(var a=i[o],s=a.length,u,l=0;l<s;++l)if(u=a[l]){var c=G(u,n);Gt(u,e,t,l,a,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new it(i,this._parents,e,t)}function Pl(){var e,n,t=this,i=t._id,r=t.size();return new Promise(function(o,a){var s={value:a},u={value:function(){--r===0&&o()}};t.each(function(){var l=K(this,i),c=l.on;c!==e&&(n=(e=c).copy(),n._.cancel.push(s),n._.interrupt.push(s),n._.end.push(u)),l.on=n}),r===0&&o()})}var Yl=0;function it(e,n,t,i){this._groups=e,this._parents=n,this._name=t,this._id=i}function $n(){return++Yl}var et=pt.prototype;it.prototype={constructor:it,select:vl,selectAll:wl,selectChild:et.selectChild,selectChildren:et.selectChildren,filter:fl,merge:pl,selection:Cl,transition:Il,call:et.call,nodes:et.nodes,node:et.node,size:et.size,empty:et.empty,each:et.each,on:_l,attr:Ka,attrTween:nl,style:Ml,styleTween:zl,text:Ll,textTween:Dl,remove:xl,tween:Wa,delay:ol,duration:ll,ease:ul,easeVarying:dl,end:Pl,[Symbol.iterator]:et[Symbol.iterator]};function Hl(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var Fl={time:null,delay:0,duration:250,ease:Hl};function Ol(e,n){for(var t;!(t=e.__transition)||!(t=t[n]);)if(!(e=e.parentNode))throw new Error(`transition ${n} not found`);return t}function Wl(e){var n,t;e instanceof it?(n=e._id,e=e._name):(n=$n(),(t=Fl).time=be(),e=e==null?null:e+"");for(var i=this._groups,r=i.length,o=0;o<r;++o)for(var a=i[o],s=a.length,u,l=0;l<s;++l)(u=a[l])&&Gt(u,e,n,l,a,t||Ol(u,n));return new it(i,this._parents,e,n)}pt.prototype.interrupt=Ha;pt.prototype.transition=Wl;const pe=Math.PI,ge=2*pe,st=1e-6,Ul=ge-st;function kn(e){this._+=e[0];for(let n=1,t=e.length;n<t;++n)this._+=arguments[n]+e[n]}function Vl(e){let n=Math.floor(e);if(!(n>=0))throw new Error(`invalid digits: ${e}`);if(n>15)return kn;const t=10**n;return function(i){this._+=i[0];for(let r=1,o=i.length;r<o;++r)this._+=Math.round(arguments[r]*t)/t+i[r]}}class ql{constructor(n){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=n==null?kn:Vl(n)}moveTo(n,t){this._append`M${this._x0=this._x1=+n},${this._y0=this._y1=+t}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(n,t){this._append`L${this._x1=+n},${this._y1=+t}`}quadraticCurveTo(n,t,i,r){this._append`Q${+n},${+t},${this._x1=+i},${this._y1=+r}`}bezierCurveTo(n,t,i,r,o,a){this._append`C${+n},${+t},${+i},${+r},${this._x1=+o},${this._y1=+a}`}arcTo(n,t,i,r,o){if(n=+n,t=+t,i=+i,r=+r,o=+o,o<0)throw new Error(`negative radius: ${o}`);let a=this._x1,s=this._y1,u=i-n,l=r-t,c=a-n,d=s-t,f=c*c+d*d;if(this._x1===null)this._append`M${this._x1=n},${this._y1=t}`;else if(f>st)if(!(Math.abs(d*u-l*c)>st)||!o)this._append`L${this._x1=n},${this._y1=t}`;else{let p=i-a,x=r-s,y=u*u+l*l,b=p*p+x*x,v=Math.sqrt(y),$=Math.sqrt(f),E=o*Math.tan((pe-Math.acos((y+f-b)/(2*v*$)))/2),M=E/$,T=E/v;Math.abs(M-1)>st&&this._append`L${n+M*c},${t+M*d}`,this._append`A${o},${o},0,0,${+(d*p>c*x)},${this._x1=n+T*u},${this._y1=t+T*l}`}}arc(n,t,i,r,o,a){if(n=+n,t=+t,i=+i,a=!!a,i<0)throw new Error(`negative radius: ${i}`);let s=i*Math.cos(r),u=i*Math.sin(r),l=n+s,c=t+u,d=1^a,f=a?r-o:o-r;this._x1===null?this._append`M${l},${c}`:(Math.abs(this._x1-l)>st||Math.abs(this._y1-c)>st)&&this._append`L${l},${c}`,i&&(f<0&&(f=f%ge+ge),f>Ul?this._append`A${i},${i},0,1,${d},${n-s},${t-u}A${i},${i},0,1,${d},${this._x1=l},${this._y1=c}`:f>st&&this._append`A${i},${i},0,${+(f>=pe)},${d},${this._x1=n+i*Math.cos(o)},${this._y1=t+i*Math.sin(o)}`)}rect(n,t,i,r){this._append`M${this._x0=this._x1=+n},${this._y0=this._y1=+t}h${i=+i}v${+r}h${-i}Z`}toString(){return this._}}function Gl(e){var n=0,t=e.children,i=t&&t.length;if(!i)n=1;else for(;--i>=0;)n+=t[i].value;e.value=n}function Jl(){return this.eachAfter(Gl)}function Zl(e,n){let t=-1;for(const i of this)e.call(n,i,++t,this);return this}function Kl(e,n){for(var t=this,i=[t],r,o,a=-1;t=i.pop();)if(e.call(n,t,++a,this),r=t.children)for(o=r.length-1;o>=0;--o)i.push(r[o]);return this}function Ql(e,n){for(var t=this,i=[t],r=[],o,a,s,u=-1;t=i.pop();)if(r.push(t),o=t.children)for(a=0,s=o.length;a<s;++a)i.push(o[a]);for(;t=r.pop();)e.call(n,t,++u,this);return this}function jl(e,n){let t=-1;for(const i of this)if(e.call(n,i,++t,this))return i}function tc(e){return this.eachAfter(function(n){for(var t=+e(n.data)||0,i=n.children,r=i&&i.length;--r>=0;)t+=i[r].value;n.value=t})}function ec(e){return this.eachBefore(function(n){n.children&&n.children.sort(e)})}function nc(e){for(var n=this,t=ic(n,e),i=[n];n!==t;)n=n.parent,i.push(n);for(var r=i.length;e!==t;)i.splice(r,0,e),e=e.parent;return i}function ic(e,n){if(e===n)return e;var t=e.ancestors(),i=n.ancestors(),r=null;for(e=t.pop(),n=i.pop();e===n;)r=e,e=t.pop(),n=i.pop();return r}function rc(){for(var e=this,n=[e];e=e.parent;)n.push(e);return n}function oc(){return Array.from(this)}function sc(){var e=[];return this.eachBefore(function(n){n.children||e.push(n)}),e}function ac(){var e=this,n=[];return e.each(function(t){t!==e&&n.push({source:t.parent,target:t})}),n}function*lc(){var e=this,n,t=[e],i,r,o;do for(n=t.reverse(),t=[];e=n.pop();)if(yield e,i=e.children)for(r=0,o=i.length;r<o;++r)t.push(i[r]);while(t.length)}function En(e,n){e instanceof Map?(e=[void 0,e],n===void 0&&(n=hc)):n===void 0&&(n=uc);for(var t=new ft(e),i,r=[t],o,a,s,u;i=r.pop();)if((a=n(i.data))&&(u=(a=Array.from(a)).length))for(i.children=a,s=u-1;s>=0;--s)r.push(o=a[s]=new ft(a[s])),o.parent=i,o.depth=i.depth+1;return t.eachBefore(Sn)}function cc(){return En(this).eachBefore(dc)}function uc(e){return e.children}function hc(e){return Array.isArray(e)?e[1]:null}function dc(e){e.data.value!==void 0&&(e.value=e.data.value),e.data=e.data.data}function Sn(e){var n=0;do e.height=n;while((e=e.parent)&&e.height<++n)}function ft(e){this.data=e,this.depth=this.height=0,this.parent=null}ft.prototype=En.prototype={constructor:ft,count:Jl,each:Zl,eachAfter:Ql,eachBefore:Kl,find:jl,sum:tc,sort:ec,path:nc,ancestors:rc,descendants:oc,leaves:sc,links:ac,copy:cc,[Symbol.iterator]:lc};function te(e){return e==null?null:fc(e)}function fc(e){if(typeof e!="function")throw new Error;return e}var pc={depth:-1},Ue={},ee={};function gc(e){return e.id}function mc(e){return e.parentId}function _c(){var e=gc,n=mc,t;function i(r){var o=Array.from(r),a=e,s=n,u,l,c,d,f,p,x,y,b=new Map;if(t!=null){const v=o.map((M,T)=>yc(t(M,T,r))),$=v.map(Ve),E=new Set(v).add("");for(const M of $)E.has(M)||(E.add(M),v.push(M),$.push(Ve(M)),o.push(ee));a=(M,T)=>v[T],s=(M,T)=>$[T]}for(c=0,u=o.length;c<u;++c)l=o[c],p=o[c]=new ft(l),(x=a(l,c,r))!=null&&(x+="")&&(y=p.id=x,b.set(y,b.has(y)?Ue:p)),(x=s(l,c,r))!=null&&(x+="")&&(p.parent=x);for(c=0;c<u;++c)if(p=o[c],x=p.parent){if(f=b.get(x),!f)throw new Error("missing: "+x);if(f===Ue)throw new Error("ambiguous: "+x);f.children?f.children.push(p):f.children=[p],p.parent=f}else{if(d)throw new Error("multiple roots");d=p}if(!d)throw new Error("no root");if(t!=null){for(;d.data===ee&&d.children.length===1;)d=d.children[0],--u;for(let v=o.length-1;v>=0&&(p=o[v],p.data===ee);--v)p.data=null}if(d.parent=pc,d.eachBefore(function(v){v.depth=v.parent.depth+1,--u}).eachBefore(Sn),d.parent=null,u>0)throw new Error("cycle");return d}return i.id=function(r){return arguments.length?(e=te(r),i):e},i.parentId=function(r){return arguments.length?(n=te(r),i):n},i.path=function(r){return arguments.length?(t=te(r),i):t},i}function yc(e){e=`${e}`;let n=e.length;return me(e,n-1)&&!me(e,n-2)&&(e=e.slice(0,-1)),e[0]==="/"?e:`/${e}`}function Ve(e){let n=e.length;if(n<2)return"";for(;--n>1&&!me(e,n););return e.slice(0,n)}function me(e,n){if(e[n]==="/"){let t=0;for(;n>0&&e[--n]==="\\";)++t;if(!(t&1))return!0}return!1}function xc(e,n){return e.parent===n.parent?1:2}function ne(e){var n=e.children;return n?n[0]:e.t}function ie(e){var n=e.children;return n?n[n.length-1]:e.t}function vc(e,n,t){var i=t/(n.i-e.i);n.c-=i,n.s+=t,e.c+=i,n.z+=t,n.m+=t}function wc(e){for(var n=0,t=0,i=e.children,r=i.length,o;--r>=0;)o=i[r],o.z+=n,o.m+=n,n+=o.s+(t+=o.c)}function bc(e,n,t){return e.a.parent===n.parent?e.a:t}function It(e,n){this._=e,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=n}It.prototype=Object.create(ft.prototype);function Cc(e){for(var n=new It(e,0),t,i=[n],r,o,a,s;t=i.pop();)if(o=t._.children)for(t.children=new Array(s=o.length),a=s-1;a>=0;--a)i.push(r=t.children[a]=new It(o[a],a)),r.parent=t;return(n.parent=new It(null,0)).children=[n],n}function $c(){var e=xc,n=1,t=1,i=null;function r(l){var c=Cc(l);if(c.eachAfter(o),c.parent.m=-c.z,c.eachBefore(a),i)l.eachBefore(u);else{var d=l,f=l,p=l;l.eachBefore(function($){$.x<d.x&&(d=$),$.x>f.x&&(f=$),$.depth>p.depth&&(p=$)});var x=d===f?1:e(d,f)/2,y=x-d.x,b=n/(f.x+x+y),v=t/(p.depth||1);l.eachBefore(function($){$.x=($.x+y)*b,$.y=$.depth*v})}return l}function o(l){var c=l.children,d=l.parent.children,f=l.i?d[l.i-1]:null;if(c){wc(l);var p=(c[0].z+c[c.length-1].z)/2;f?(l.z=f.z+e(l._,f._),l.m=l.z-p):l.z=p}else f&&(l.z=f.z+e(l._,f._));l.parent.A=s(l,f,l.parent.A||d[0])}function a(l){l._.x=l.z+l.parent.m,l.m+=l.parent.m}function s(l,c,d){if(c){for(var f=l,p=l,x=c,y=f.parent.children[0],b=f.m,v=p.m,$=x.m,E=y.m,M;x=ie(x),f=ne(f),x&&f;)y=ne(y),p=ie(p),p.a=l,M=x.z+$-f.z-b+e(x._,f._),M>0&&(vc(bc(x,l,d),l,M),b+=M,v+=M),$+=x.m,b+=f.m,E+=y.m,v+=p.m;x&&!ie(p)&&(p.t=x,p.m+=$-v),f&&!ne(y)&&(y.t=f,y.m+=b-E,d=l)}return d}function u(l){l.x*=n,l.y=l.depth*t}return r.separation=function(l){return arguments.length?(e=l,r):e},r.size=function(l){return arguments.length?(i=!1,n=+l[0],t=+l[1],r):i?null:[n,t]},r.nodeSize=function(l){return arguments.length?(i=!0,n=+l[0],t=+l[1],r):i?[n,t]:null},r}function qe(e){return function(){return e}}function kc(e){let n=3;return e.digits=function(t){if(!arguments.length)return n;if(t==null)n=null;else{const i=Math.floor(t);if(!(i>=0))throw new RangeError(`invalid digits: ${t}`);n=i}return e},()=>new ql(n)}var Ec=Array.prototype.slice;function Sc(e){return e[0]}function Mc(e){return e[1]}class Nc{constructor(n,t){this._context=n,this._x=t}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(n,t){switch(n=+n,t=+t,this._point){case 0:{this._point=1,this._line?this._context.lineTo(n,t):this._context.moveTo(n,t);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+n)/2,this._y0,this._x0,t,n,t):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+t)/2,n,this._y0,n,t);break}}this._x0=n,this._y0=t}}function Bc(e){return new Nc(e,!0)}function zc(e){return e.source}function Tc(e){return e.target}function Ac(e){let n=zc,t=Tc,i=Sc,r=Mc,o=null,a=null,s=kc(u);function u(){let l;const c=Ec.call(arguments),d=n.apply(this,c),f=t.apply(this,c);if(o==null&&(a=e(l=s())),a.lineStart(),c[0]=d,a.point(+i.apply(this,c),+r.apply(this,c)),c[0]=f,a.point(+i.apply(this,c),+r.apply(this,c)),a.lineEnd(),l)return a=null,l+""||null}return u.source=function(l){return arguments.length?(n=l,u):n},u.target=function(l){return arguments.length?(t=l,u):t},u.x=function(l){return arguments.length?(i=typeof l=="function"?l:qe(+l),u):i},u.y=function(l){return arguments.length?(r=typeof l=="function"?l:qe(+l),u):r},u.context=function(l){return arguments.length?(l==null?o=a=null:a=e(o=l),u):o},u}function Lc(){return Ac(Bc)}const zt=e=>()=>e;function Rc(e,{sourceEvent:n,target:t,transform:i,dispatch:r}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:n,enumerable:!0,configurable:!0},target:{value:t,enumerable:!0,configurable:!0},transform:{value:i,enumerable:!0,configurable:!0},_:{value:r}})}function nt(e,n,t){this.k=e,this.x=n,this.y=t}nt.prototype={constructor:nt,scale:function(e){return e===1?this:new nt(this.k*e,this.x,this.y)},translate:function(e,n){return e===0&n===0?this:new nt(this.k,this.x+this.k*e,this.y+this.k*n)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var ke=new nt(1,0,0);nt.prototype;function re(e){e.stopImmediatePropagation()}function yt(e){e.preventDefault(),e.stopImmediatePropagation()}function Xc(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function Dc(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function Ge(){return this.__zoom||ke}function Ic(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function Pc(){return navigator.maxTouchPoints||"ontouchstart"in this}function Yc(e,n,t){var i=e.invertX(n[0][0])-t[0][0],r=e.invertX(n[1][0])-t[1][0],o=e.invertY(n[0][1])-t[0][1],a=e.invertY(n[1][1])-t[1][1];return e.translate(r>i?(i+r)/2:Math.min(0,i)||Math.max(0,r),a>o?(o+a)/2:Math.min(0,o)||Math.max(0,a))}function Hc(){var e=Xc,n=Dc,t=Yc,i=Ic,r=Pc,o=[0,1/0],a=[[-1/0,-1/0],[1/0,1/0]],s=250,u=Aa,l=ye("start","zoom","end"),c,d,f,p=500,x=150,y=0,b=10;function v(g){g.property("__zoom",Ge).on("wheel.zoom",Q,{passive:!1}).on("mousedown.zoom",O).on("dblclick.zoom",gt).filter(r).on("touchstart.zoom",St).on("touchmove.zoom",mt).on("touchend.zoom touchcancel.zoom",Jt).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}v.transform=function(g,h,m,w){var C=g.selection?g.selection():g;C.property("__zoom",Ge),g!==C?T(g,h,m,w):C.interrupt().each(function(){X(this,arguments).event(w).start().zoom(null,typeof h=="function"?h.apply(this,arguments):h).end()})},v.scaleBy=function(g,h,m,w){v.scaleTo(g,function(){var C=this.__zoom.k,k=typeof h=="function"?h.apply(this,arguments):h;return C*k},m,w)},v.scaleTo=function(g,h,m,w){v.transform(g,function(){var C=n.apply(this,arguments),k=this.__zoom,S=m==null?M(C):typeof m=="function"?m.apply(this,arguments):m,N=k.invert(S),A=typeof h=="function"?h.apply(this,arguments):h;return t(E($(k,A),S,N),C,a)},m,w)},v.translateBy=function(g,h,m,w){v.transform(g,function(){return t(this.__zoom.translate(typeof h=="function"?h.apply(this,arguments):h,typeof m=="function"?m.apply(this,arguments):m),n.apply(this,arguments),a)},null,w)},v.translateTo=function(g,h,m,w,C){v.transform(g,function(){var k=n.apply(this,arguments),S=this.__zoom,N=w==null?M(k):typeof w=="function"?w.apply(this,arguments):w;return t(ke.translate(N[0],N[1]).scale(S.k).translate(typeof h=="function"?-h.apply(this,arguments):-h,typeof m=="function"?-m.apply(this,arguments):-m),k,a)},w,C)};function $(g,h){return h=Math.max(o[0],Math.min(o[1],h)),h===g.k?g:new nt(h,g.x,g.y)}function E(g,h,m){var w=h[0]-m[0]*g.k,C=h[1]-m[1]*g.k;return w===g.x&&C===g.y?g:new nt(g.k,w,C)}function M(g){return[(+g[0][0]+ +g[1][0])/2,(+g[0][1]+ +g[1][1])/2]}function T(g,h,m,w){g.on("start.zoom",function(){X(this,arguments).event(w).start()}).on("interrupt.zoom end.zoom",function(){X(this,arguments).event(w).end()}).tween("zoom",function(){var C=this,k=arguments,S=X(C,k).event(w),N=n.apply(C,k),A=m==null?M(N):typeof m=="function"?m.apply(C,k):m,J=Math.max(N[1][0]-N[0][0],N[1][1]-N[0][1]),L=C.__zoom,U=typeof h=="function"?h.apply(C,k):h,j=u(L.invert(A).concat(J/L.k),U.invert(A).concat(J/U.k));return function(V){if(V===1)V=U;else{var tt=j(V),Zt=J/tt[2];V=new nt(Zt,A[0]-tt[0]*Zt,A[1]-tt[1]*Zt)}S.zoom(null,V)}})}function X(g,h,m){return!m&&g.__zooming||new D(g,h)}function D(g,h){this.that=g,this.args=h,this.active=0,this.sourceEvent=null,this.extent=n.apply(g,h),this.taps=0}D.prototype={event:function(g){return g&&(this.sourceEvent=g),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(g,h){return this.mouse&&g!=="mouse"&&(this.mouse[1]=h.invert(this.mouse[0])),this.touch0&&g!=="touch"&&(this.touch0[1]=h.invert(this.touch0[0])),this.touch1&&g!=="touch"&&(this.touch1[1]=h.invert(this.touch1[0])),this.that.__zoom=h,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(g){var h=W(this.that).datum();l.call(g,this.that,new Rc(g,{sourceEvent:this.sourceEvent,target:v,type:g,transform:this.that.__zoom,dispatch:l}),h)}};function Q(g,...h){if(!e.apply(this,arguments))return;var m=X(this,h).event(g),w=this.__zoom,C=Math.max(o[0],Math.min(o[1],w.k*Math.pow(2,i.apply(this,arguments)))),k=ot(g);if(m.wheel)(m.mouse[0][0]!==k[0]||m.mouse[0][1]!==k[1])&&(m.mouse[1]=w.invert(m.mouse[0]=k)),clearTimeout(m.wheel);else{if(w.k===C)return;m.mouse=[k,w.invert(k)],Dt(this),m.start()}yt(g),m.wheel=setTimeout(S,x),m.zoom("mouse",t(E($(w,C),m.mouse[0],m.mouse[1]),m.extent,a));function S(){m.wheel=null,m.end()}}function O(g,...h){if(f||!e.apply(this,arguments))return;var m=g.currentTarget,w=X(this,h,!0).event(g),C=W(g.view).on("mousemove.zoom",A,!0).on("mouseup.zoom",J,!0),k=ot(g,m),S=g.clientX,N=g.clientY;sa(g.view),re(g),w.mouse=[k,this.__zoom.invert(k)],Dt(this),w.start();function A(L){if(yt(L),!w.moved){var U=L.clientX-S,j=L.clientY-N;w.moved=U*U+j*j>y}w.event(L).zoom("mouse",t(E(w.that.__zoom,w.mouse[0]=ot(L,m),w.mouse[1]),w.extent,a))}function J(L){C.on("mousemove.zoom mouseup.zoom",null),aa(L.view,w.moved),yt(L),w.event(L).end()}}function gt(g,...h){if(e.apply(this,arguments)){var m=this.__zoom,w=ot(g.changedTouches?g.changedTouches[0]:g,this),C=m.invert(w),k=m.k*(g.shiftKey?.5:2),S=t(E($(m,k),w,C),n.apply(this,h),a);yt(g),s>0?W(this).transition().duration(s).call(T,S,w,g):W(this).call(v.transform,S,w,g)}}function St(g,...h){if(e.apply(this,arguments)){var m=g.touches,w=m.length,C=X(this,h,g.changedTouches.length===w).event(g),k,S,N,A;for(re(g),S=0;S<w;++S)N=m[S],A=ot(N,this),A=[A,this.__zoom.invert(A),N.identifier],C.touch0?!C.touch1&&C.touch0[2]!==A[2]&&(C.touch1=A,C.taps=0):(C.touch0=A,k=!0,C.taps=1+!!c);c&&(c=clearTimeout(c)),k&&(C.taps<2&&(d=A[0],c=setTimeout(function(){c=null},p)),Dt(this),C.start())}}function mt(g,...h){if(this.__zooming){var m=X(this,h).event(g),w=g.changedTouches,C=w.length,k,S,N,A;for(yt(g),k=0;k<C;++k)S=w[k],N=ot(S,this),m.touch0&&m.touch0[2]===S.identifier?m.touch0[0]=N:m.touch1&&m.touch1[2]===S.identifier&&(m.touch1[0]=N);if(S=m.that.__zoom,m.touch1){var J=m.touch0[0],L=m.touch0[1],U=m.touch1[0],j=m.touch1[1],V=(V=U[0]-J[0])*V+(V=U[1]-J[1])*V,tt=(tt=j[0]-L[0])*tt+(tt=j[1]-L[1])*tt;S=$(S,Math.sqrt(V/tt)),N=[(J[0]+U[0])/2,(J[1]+U[1])/2],A=[(L[0]+j[0])/2,(L[1]+j[1])/2]}else if(m.touch0)N=m.touch0[0],A=m.touch0[1];else return;m.zoom("touch",t(E(S,N,A),m.extent,a))}}function Jt(g,...h){if(this.__zooming){var m=X(this,h).event(g),w=g.changedTouches,C=w.length,k,S;for(re(g),f&&clearTimeout(f),f=setTimeout(function(){f=null},p),k=0;k<C;++k)S=w[k],m.touch0&&m.touch0[2]===S.identifier?delete m.touch0:m.touch1&&m.touch1[2]===S.identifier&&delete m.touch1;if(m.touch1&&!m.touch0&&(m.touch0=m.touch1,delete m.touch1),m.touch0)m.touch0[1]=this.__zoom.invert(m.touch0[0]);else if(m.end(),m.taps===2&&(S=ot(S,this),Math.hypot(d[0]-S[0],d[1]-S[1])<b)){var N=W(this).on("dblclick.zoom");N&&N.apply(this,arguments)}}}return v.wheelDelta=function(g){return arguments.length?(i=typeof g=="function"?g:zt(+g),v):i},v.filter=function(g){return arguments.length?(e=typeof g=="function"?g:zt(!!g),v):e},v.touchable=function(g){return arguments.length?(r=typeof g=="function"?g:zt(!!g),v):r},v.extent=function(g){return arguments.length?(n=typeof g=="function"?g:zt([[+g[0][0],+g[0][1]],[+g[1][0],+g[1][1]]]),v):n},v.scaleExtent=function(g){return arguments.length?(o[0]=+g[0],o[1]=+g[1],v):[o[0],o[1]]},v.translateExtent=function(g){return arguments.length?(a[0][0]=+g[0][0],a[1][0]=+g[1][0],a[0][1]=+g[0][1],a[1][1]=+g[1][1],v):[[a[0][0],a[0][1]],[a[1][0],a[1][1]]]},v.constrain=function(g){return arguments.length?(t=g,v):t},v.duration=function(g){return arguments.length?(s=+g,v):s},v.interpolate=function(g){return arguments.length?(u=g,v):u},v.on=function(){var g=l.on.apply(l,arguments);return g===l?v:g},v.clickDistance=function(g){return arguments.length?(y=(g=+g)*g,v):Math.sqrt(y)},v.tapDistance=function(g){return arguments.length?(b=+g,v):b},v}function Fc(e){var n=0,t=e.children,i=t&&t.length;if(!i)n=1;else for(;--i>=0;)n+=t[i].value;e.value=n}function Oc(){return this.eachAfter(Fc)}function Wc(e){var n=this,t,i=[n],r,o,a;do for(t=i.reverse(),i=[];n=t.pop();)if(e(n),r=n.children,r)for(o=0,a=r.length;o<a;++o)i.push(r[o]);while(i.length);return this}function Uc(e){for(var n=this,t=[n],i,r;n=t.pop();)if(e(n),i=n.children,i)for(r=i.length-1;r>=0;--r)t.push(i[r]);return this}function Vc(e){for(var n=this,t=[n],i=[],r,o,a;n=t.pop();)if(i.push(n),r=n.children,r)for(o=0,a=r.length;o<a;++o)t.push(r[o]);for(;n=i.pop();)e(n);return this}function qc(e){return this.eachAfter(function(n){for(var t=+e(n.data)||0,i=n.children,r=i&&i.length;--r>=0;)t+=i[r].value;n.value=t})}function Gc(e){return this.eachBefore(function(n){n.children&&n.children.sort(e)})}function Jc(e){for(var n=this,t=Zc(n,e),i=[n];n!==t;)n=n.parent,i.push(n);for(var r=i.length;e!==t;)i.splice(r,0,e),e=e.parent;return i}function Zc(e,n){if(e===n)return e;var t=e.ancestors(),i=n.ancestors(),r=null;for(e=t.pop(),n=i.pop();e===n;)r=e,e=t.pop(),n=i.pop();return r}function Kc(){for(var e=this,n=[e];e=e.parent;)n.push(e);return n}function Qc(){var e=[];return this.each(function(n){e.push(n)}),e}function jc(){var e=[];return this.eachBefore(function(n){n.children||e.push(n)}),e}function tu(){var e=this,n=[];return e.each(function(t){t!==e&&n.push({source:t.parent,target:t})}),n}function Ee(e,n){var t=new Ut(e),i=+e.value&&(t.value=e.value),r,o=[t],a,s,u,l;for(n==null&&(n=nu);r=o.pop();)if(i&&(r.value=+r.data.value),(s=n(r.data))&&(l=s.length))for(r.children=new Array(l),u=l-1;u>=0;--u)o.push(a=r.children[u]=new Ut(s[u])),a.parent=r,a.depth=r.depth+1;return t.eachBefore(ru)}function eu(){return Ee(this).eachBefore(iu)}function nu(e){return e.children}function iu(e){e.data=e.data.data}function ru(e){var n=0;do e.height=n;while((e=e.parent)&&e.height<++n)}function Ut(e){this.data=e,this.depth=this.height=0,this.parent=null}Ut.prototype=Ee.prototype={constructor:Ut,count:Oc,each:Wc,eachAfter:Vc,eachBefore:Uc,sum:qc,sort:Gc,path:Jc,ancestors:Kc,descendants:Qc,leaves:jc,links:tu,copy:eu};const ou="d3-flextree",su="2.1.2",au="build/d3-flextree.js",lu="index",cu={name:"Chris Maloney",url:"http://chrismaloney.org"},uu="Flexible tree layout algorithm that allows for variable node sizes.",hu=["d3","d3-module","layout","tree","hierarchy","d3-hierarchy","plugin","d3-plugin","infovis","visualization","2d"],du="https://github.com/klortho/d3-flextree",fu="WTFPL",pu={type:"git",url:"https://github.com/klortho/d3-flextree.git"},gu={clean:"rm -rf build demo test","build:demo":"rollup -c --environment BUILD:demo","build:dev":"rollup -c --environment BUILD:dev","build:prod":"rollup -c --environment BUILD:prod","build:test":"rollup -c --environment BUILD:test",build:"rollup -c",lint:"eslint index.js src","test:main":"node test/bundle.js","test:browser":"node test/browser-tests.js",test:"npm-run-all test:*",prepare:"npm-run-all clean build lint test"},mu={"d3-hierarchy":"^1.1.5"},_u={"babel-plugin-external-helpers":"^6.22.0","babel-preset-es2015-rollup":"^3.0.0",d3:"^4.13.0","d3-selection-multi":"^1.0.1",eslint:"^4.19.1",jsdom:"^11.6.2","npm-run-all":"^4.1.2",rollup:"^0.55.3","rollup-plugin-babel":"^2.7.1","rollup-plugin-commonjs":"^8.0.2","rollup-plugin-copy":"^0.2.3","rollup-plugin-json":"^2.3.0","rollup-plugin-node-resolve":"^3.0.2","rollup-plugin-uglify":"^3.0.0","uglify-es":"^3.3.9"},yu={name:ou,version:su,main:au,module:lu,"jsnext:main":"index",author:cu,description:uu,keywords:hu,homepage:du,license:fu,repository:pu,scripts:gu,dependencies:mu,devDependencies:_u},{version:xu}=yu,vu=Object.freeze({children:e=>e.children,nodeSize:e=>e.data.size,spacing:0});function Se(e){const n=Object.assign({},vu,e);function t(s){const u=n[s];return typeof u=="function"?u:()=>u}function i(s){const u=a(o(),s,l=>l.children);return u.update(),u.data}function r(){const s=t("nodeSize"),u=t("spacing");return class Mn extends Ee.prototype.constructor{constructor(c){super(c)}copy(){const c=a(this.constructor,this,d=>d.children);return c.each(d=>d.data=d.data.data),c}get size(){return s(this)}spacing(c){return u(this,c)}get nodes(){return this.descendants()}get xSize(){return this.size[0]}get ySize(){return this.size[1]}get top(){return this.y}get bottom(){return this.y+this.ySize}get left(){return this.x-this.xSize/2}get right(){return this.x+this.xSize/2}get root(){const c=this.ancestors();return c[c.length-1]}get numChildren(){return this.hasChildren?this.children.length:0}get hasChildren(){return!this.noChildren}get noChildren(){return this.children===null}get firstChild(){return this.hasChildren?this.children[0]:null}get lastChild(){return this.hasChildren?this.children[this.numChildren-1]:null}get extents(){return(this.children||[]).reduce((c,d)=>Mn.maxExtents(c,d.extents),this.nodeExtents)}get nodeExtents(){return{top:this.top,bottom:this.bottom,left:this.left,right:this.right}}static maxExtents(c,d){return{top:Math.min(c.top,d.top),bottom:Math.max(c.bottom,d.bottom),left:Math.min(c.left,d.left),right:Math.max(c.right,d.right)}}}}function o(){const s=r(),u=t("nodeSize"),l=t("spacing");return class extends s{constructor(c){super(c),Object.assign(this,{x:0,y:0,relX:0,prelim:0,shift:0,change:0,lExt:this,lExtRelX:0,lThr:null,rExt:this,rExtRelX:0,rThr:null})}get size(){return u(this.data)}spacing(c){return l(this.data,c.data)}get x(){return this.data.x}set x(c){this.data.x=c}get y(){return this.data.y}set y(c){this.data.y=c}update(){return Nn(this),Bn(this),this}}}function a(s,u,l){const c=(d,f)=>{const p=new s(d);Object.assign(p,{parent:f,depth:f===null?0:f.depth+1,height:0,length:1});const x=l(d)||[];return p.children=x.length===0?null:x.map(y=>c(y,p)),p.children&&Object.assign(p,p.children.reduce((y,b)=>({height:Math.max(y.height,b.height+1),length:y.length+b.length}),p)),p};return c(u,null)}return Object.assign(i,{nodeSize(s){return arguments.length?(n.nodeSize=s,i):n.nodeSize},spacing(s){return arguments.length?(n.spacing=s,i):n.spacing},children(s){return arguments.length?(n.children=s,i):n.children},hierarchy(s,u){const l=typeof u>"u"?n.children:u;return a(r(),s,l)},dump(s){const u=t("nodeSize"),l=c=>d=>{const f=c+"  ",p=c+"    ",{x,y}=d,b=u(d),v=d.children||[],$=v.length===0?" ":`,${f}children: [${p}${v.map(l(p)).join(p)}${f}],${c}`;return`{ size: [${b.join(", ")}],${f}x: ${x}, y: ${y}${$}},`};return l(`
`)(s)}}),i}Se.version=xu;const Nn=(e,n=0)=>(e.y=n,(e.children||[]).reduce((t,i)=>{const[r,o]=t;Nn(i,e.y+e.ySize);const a=(r===0?i.lExt:i.rExt).bottom;r!==0&&bu(e,r,o);const s=Bu(a,r,o);return[r+1,s]},[0,null]),wu(e),Nu(e),e),Bn=(e,n,t)=>{typeof n>"u"&&(n=-e.relX-e.prelim,t=0);const i=n+e.relX;return e.relX=i+e.prelim-t,e.prelim=0,e.x=t+e.relX,(e.children||[]).forEach(r=>Bn(r,i,e.x)),e},wu=e=>{(e.children||[]).reduce((n,t)=>{const[i,r]=n,o=i+t.shift,a=r+o+t.change;return t.relX+=a,[o,a]},[0,0])},bu=(e,n,t)=>{const i=e.children[n-1],r=e.children[n];let o=i,a=i.relX,s=r,u=r.relX,l=!0;for(;o&&s;){o.bottom>t.lowY&&(t=t.next);const c=a+o.prelim-(u+s.prelim)+o.xSize/2+s.xSize/2+o.spacing(s);(c>0||c<0&&l)&&(u+=c,Cu(r,c),$u(e,n,t.index,c)),l=!1;const d=o.bottom,f=s.bottom;d<=f&&(o=Eu(o),o&&(a+=o.relX)),d>=f&&(s=ku(s),s&&(u+=s.relX))}!o&&s?Su(e,n,s,u):o&&!s&&Mu(e,n,o,a)},Cu=(e,n)=>{e.relX+=n,e.lExtRelX+=n,e.rExtRelX+=n},$u=(e,n,t,i)=>{const r=e.children[n],o=n-t;if(o>1){const a=i/o;e.children[t+1].shift+=a,r.shift-=a,r.change-=i-a}},ku=e=>e.hasChildren?e.firstChild:e.lThr,Eu=e=>e.hasChildren?e.lastChild:e.rThr,Su=(e,n,t,i)=>{const r=e.firstChild,o=r.lExt,a=e.children[n];o.lThr=t;const s=i-t.relX-r.lExtRelX;o.relX+=s,o.prelim-=s,r.lExt=a.lExt,r.lExtRelX=a.lExtRelX},Mu=(e,n,t,i)=>{const r=e.children[n],o=r.rExt,a=e.children[n-1];o.rThr=t;const s=i-t.relX-r.rExtRelX;o.relX+=s,o.prelim-=s,r.rExt=a.rExt,r.rExtRelX=a.rExtRelX},Nu=e=>{if(e.hasChildren){const n=e.firstChild,t=e.lastChild,i=(n.prelim+n.relX-n.xSize/2+t.relX+t.prelim+t.xSize/2)/2;Object.assign(e,{prelim:i,lExt:n.lExt,lExtRelX:n.lExtRelX,rExt:t.rExt,rExtRelX:t.rExtRelX})}},Bu=(e,n,t)=>{for(;t!==null&&e>=t.lowY;)t=t.next;return{lowY:e,index:n,next:t}},B={selection:pt,select:W,max:wo,min:bo,sum:Co,cumsum:vo,tree:$c,stratify:_c,zoom:Hc,zoomIdentity:ke,linkHorizontal:Lc,flextree:Se};class zu{constructor(){const n={id:`ID${Math.floor(Math.random()*1e6)}`,firstDraw:!0,ctx:document.createElement("canvas").getContext("2d"),initialExpandLevel:1,nodeDefaultBackground:"none",lastTransform:{x:0,y:0,k:1},allowedNodesCount:{},zoomBehavior:null,generateRoot:null,svgWidth:800,svgHeight:window.innerHeight-100,container:"body",data:null,connections:[],defaultFont:"Helvetica",nodeId:t=>t.nodeId||t.id,parentNodeId:t=>t.parentNodeId||t.parentId,rootMargin:40,nodeWidth:t=>250,nodeHeight:t=>150,neighbourMargin:(t,i)=>80,siblingsMargin:t=>20,childrenMargin:t=>60,compactMarginPair:t=>100,compactMarginBetween:t=>20,nodeButtonWidth:t=>40,nodeButtonHeight:t=>40,nodeButtonX:t=>-20,nodeButtonY:t=>-20,linkYOffset:30,pagingStep:t=>5,minPagingVisibleNodes:t=>2e3,scaleExtent:[.001,20],duration:400,imageName:"Chart",setActiveNodeCentered:!0,layout:"top",compact:!0,createZoom:t=>B.zoom(),onZoomStart:t=>{},onZoom:t=>{},onZoomEnd:t=>{},onNodeClick:t=>t,onExpandOrCollapse:t=>t,nodeContent:t=>`<div style="padding:5px;font-size:10px;">Sample Node(id=${t.id}), override using <br/> 
            <code>chart.nodeContent({data}=>{ <br/>
             &nbsp;&nbsp;&nbsp;&nbsp;return '' // Custom HTML <br/>
             })</code>
             <br/> 
             Or check different <a href="https://github.com/bumbeishvili/org-chart#jump-to-examples" target="_blank">layout examples</a>
             </div>`,buttonContent:({node:t,state:i})=>`<div style="border:1px solid #E4E2E9;border-radius:3px;padding:3px;font-size:9px;margin:auto auto;background-color:white"> ${{left:o=>o?`<div style="display:flex;"><span style="align-items:center;display:flex;"><svg width="8" height="8" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                      <path d="M14.283 3.50094L6.51 11.4749C6.37348 11.615 6.29707 11.8029 6.29707 11.9984C6.29707 12.194 6.37348 12.3819 6.51 12.5219L14.283 20.4989C14.3466 20.5643 14.4226 20.6162 14.5066 20.6516C14.5906 20.6871 14.6808 20.7053 14.772 20.7053C14.8632 20.7053 14.9534 20.6871 15.0374 20.6516C15.1214 20.6162 15.1974 20.5643 15.261 20.4989C15.3918 20.365 15.4651 20.1852 15.4651 19.9979C15.4651 19.8107 15.3918 19.6309 15.261 19.4969L7.9515 11.9984L15.261 4.50144C15.3914 4.36756 15.4643 4.18807 15.4643 4.00119C15.4643 3.81431 15.3914 3.63482 15.261 3.50094C15.1974 3.43563 15.1214 3.38371 15.0374 3.34827C14.9534 3.31282 14.8632 3.29456 14.772 3.29456C14.6808 3.29456 14.5906 3.31282 14.5066 3.34827C14.4226 3.38371 14.3466 3.43563 14.283 3.50094V3.50094Z" fill="#716E7B" stroke="#716E7B"/>
                      </svg></span><span style="color:#716E7B">${t.data._directSubordinatesPaging} </span></div>`:`<div style="display:flex;"><span style="align-items:center;display:flex;"><svg width="8" height="8" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                          <path d="M7.989 3.49944C7.85817 3.63339 7.78492 3.8132 7.78492 4.00044C7.78492 4.18768 7.85817 4.36749 7.989 4.50144L15.2985 11.9999L7.989 19.4969C7.85817 19.6309 7.78492 19.8107 7.78492 19.9979C7.78492 20.1852 7.85817 20.365 7.989 20.4989C8.05259 20.5643 8.12863 20.6162 8.21261 20.6516C8.2966 20.6871 8.38684 20.7053 8.478 20.7053C8.56916 20.7053 8.6594 20.6871 8.74338 20.6516C8.82737 20.6162 8.90341 20.5643 8.967 20.4989L16.74 12.5234C16.8765 12.3834 16.9529 12.1955 16.9529 11.9999C16.9529 11.8044 16.8765 11.6165 16.74 11.4764L8.967 3.50094C8.90341 3.43563 8.82737 3.38371 8.74338 3.34827C8.6594 3.31282 8.56916 3.29456 8.478 3.29456C8.38684 3.29456 8.2966 3.31282 8.21261 3.34827C8.12863 3.38371 8.05259 3.43563 7.989 3.50094V3.49944Z" fill="#716E7B" stroke="#716E7B"/>
                          </svg></span><span style="color:#716E7B">${t.data._directSubordinatesPaging} </span></div>`,bottom:o=>o?`<div style="display:flex;"><span style="align-items:center;display:flex;"><svg width="8" height="8" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                       <path d="M19.497 7.98903L12 15.297L4.503 7.98903C4.36905 7.85819 4.18924 7.78495 4.002 7.78495C3.81476 7.78495 3.63495 7.85819 3.501 7.98903C3.43614 8.05257 3.38462 8.12842 3.34944 8.21213C3.31427 8.29584 3.29615 8.38573 3.29615 8.47653C3.29615 8.56733 3.31427 8.65721 3.34944 8.74092C3.38462 8.82463 3.43614 8.90048 3.501 8.96403L11.4765 16.74C11.6166 16.8765 11.8044 16.953 12 16.953C12.1956 16.953 12.3834 16.8765 12.5235 16.74L20.499 8.96553C20.5643 8.90193 20.6162 8.8259 20.6517 8.74191C20.6871 8.65792 20.7054 8.56769 20.7054 8.47653C20.7054 8.38537 20.6871 8.29513 20.6517 8.21114C20.6162 8.12715 20.5643 8.05112 20.499 7.98753C20.3651 7.85669 20.1852 7.78345 19.998 7.78345C19.8108 7.78345 19.6309 7.85669 19.497 7.98753V7.98903Z" fill="#716E7B" stroke="#716E7B"/>
                       </svg></span><span style="margin-left:1px;color:#716E7B" >${t.data._directSubordinatesPaging} </span></div>
                       `:`<div style="display:flex;"><span style="align-items:center;display:flex;"><svg width="8" height="8" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                       <path d="M11.457 8.07005L3.49199 16.4296C3.35903 16.569 3.28485 16.7543 3.28485 16.9471C3.28485 17.1398 3.35903 17.3251 3.49199 17.4646L3.50099 17.4736C3.56545 17.5414 3.64304 17.5954 3.72904 17.6324C3.81504 17.6693 3.90765 17.6883 4.00124 17.6883C4.09483 17.6883 4.18745 17.6693 4.27344 17.6324C4.35944 17.5954 4.43703 17.5414 4.50149 17.4736L12.0015 9.60155L19.4985 17.4736C19.563 17.5414 19.6405 17.5954 19.7265 17.6324C19.8125 17.6693 19.9052 17.6883 19.9987 17.6883C20.0923 17.6883 20.1849 17.6693 20.2709 17.6324C20.3569 17.5954 20.4345 17.5414 20.499 17.4736L20.508 17.4646C20.641 17.3251 20.7151 17.1398 20.7151 16.9471C20.7151 16.7543 20.641 16.569 20.508 16.4296L12.543 8.07005C12.4729 7.99653 12.3887 7.93801 12.2954 7.89801C12.202 7.85802 12.1015 7.8374 12 7.8374C11.8984 7.8374 11.798 7.85802 11.7046 7.89801C11.6113 7.93801 11.527 7.99653 11.457 8.07005Z" fill="#716E7B" stroke="#716E7B"/>
                       </svg></span><span style="margin-left:1px;color:#716E7B" >${t.data._directSubordinatesPaging} </span></div>
                    `,right:o=>o?`<div style="display:flex;"><span style="align-items:center;display:flex;"><svg width="8" height="8" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                       <path d="M7.989 3.49944C7.85817 3.63339 7.78492 3.8132 7.78492 4.00044C7.78492 4.18768 7.85817 4.36749 7.989 4.50144L15.2985 11.9999L7.989 19.4969C7.85817 19.6309 7.78492 19.8107 7.78492 19.9979C7.78492 20.1852 7.85817 20.365 7.989 20.4989C8.05259 20.5643 8.12863 20.6162 8.21261 20.6516C8.2966 20.6871 8.38684 20.7053 8.478 20.7053C8.56916 20.7053 8.6594 20.6871 8.74338 20.6516C8.82737 20.6162 8.90341 20.5643 8.967 20.4989L16.74 12.5234C16.8765 12.3834 16.9529 12.1955 16.9529 11.9999C16.9529 11.8044 16.8765 11.6165 16.74 11.4764L8.967 3.50094C8.90341 3.43563 8.82737 3.38371 8.74338 3.34827C8.6594 3.31282 8.56916 3.29456 8.478 3.29456C8.38684 3.29456 8.2966 3.31282 8.21261 3.34827C8.12863 3.38371 8.05259 3.43563 7.989 3.50094V3.49944Z" fill="#716E7B" stroke="#716E7B"/>
                       </svg></span><span style="color:#716E7B">${t.data._directSubordinatesPaging} </span></div>`:`<div style="display:flex;"><span style="align-items:center;display:flex;"><svg width="8" height="8" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                       <path d="M14.283 3.50094L6.51 11.4749C6.37348 11.615 6.29707 11.8029 6.29707 11.9984C6.29707 12.194 6.37348 12.3819 6.51 12.5219L14.283 20.4989C14.3466 20.5643 14.4226 20.6162 14.5066 20.6516C14.5906 20.6871 14.6808 20.7053 14.772 20.7053C14.8632 20.7053 14.9534 20.6871 15.0374 20.6516C15.1214 20.6162 15.1974 20.5643 15.261 20.4989C15.3918 20.365 15.4651 20.1852 15.4651 19.9979C15.4651 19.8107 15.3918 19.6309 15.261 19.4969L7.9515 11.9984L15.261 4.50144C15.3914 4.36756 15.4643 4.18807 15.4643 4.00119C15.4643 3.81431 15.3914 3.63482 15.261 3.50094C15.1974 3.43563 15.1214 3.38371 15.0374 3.34827C14.9534 3.31282 14.8632 3.29456 14.772 3.29456C14.6808 3.29456 14.5906 3.31282 14.5066 3.34827C14.4226 3.38371 14.3466 3.43563 14.283 3.50094V3.50094Z" fill="#716E7B" stroke="#716E7B"/>
                       </svg></span><span style="color:#716E7B">${t.data._directSubordinatesPaging} </span></div>`,top:o=>o?`<div style="display:flex;"><span style="align-items:center;display:flex;"><svg width="8" height="8" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M11.457 8.07005L3.49199 16.4296C3.35903 16.569 3.28485 16.7543 3.28485 16.9471C3.28485 17.1398 3.35903 17.3251 3.49199 17.4646L3.50099 17.4736C3.56545 17.5414 3.64304 17.5954 3.72904 17.6324C3.81504 17.6693 3.90765 17.6883 4.00124 17.6883C4.09483 17.6883 4.18745 17.6693 4.27344 17.6324C4.35944 17.5954 4.43703 17.5414 4.50149 17.4736L12.0015 9.60155L19.4985 17.4736C19.563 17.5414 19.6405 17.5954 19.7265 17.6324C19.8125 17.6693 19.9052 17.6883 19.9987 17.6883C20.0923 17.6883 20.1849 17.6693 20.2709 17.6324C20.3569 17.5954 20.4345 17.5414 20.499 17.4736L20.508 17.4646C20.641 17.3251 20.7151 17.1398 20.7151 16.9471C20.7151 16.7543 20.641 16.569 20.508 16.4296L12.543 8.07005C12.4729 7.99653 12.3887 7.93801 12.2954 7.89801C12.202 7.85802 12.1015 7.8374 12 7.8374C11.8984 7.8374 11.798 7.85802 11.7046 7.89801C11.6113 7.93801 11.527 7.99653 11.457 8.07005Z" fill="#716E7B" stroke="#716E7B"/>
                        </svg></span><span style="margin-left:1px;color:#716E7B">${t.data._directSubordinatesPaging} </span></div>
                        `:`<div style="display:flex;"><span style="align-items:center;display:flex;"><svg width="8" height="8" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M19.497 7.98903L12 15.297L4.503 7.98903C4.36905 7.85819 4.18924 7.78495 4.002 7.78495C3.81476 7.78495 3.63495 7.85819 3.501 7.98903C3.43614 8.05257 3.38462 8.12842 3.34944 8.21213C3.31427 8.29584 3.29615 8.38573 3.29615 8.47653C3.29615 8.56733 3.31427 8.65721 3.34944 8.74092C3.38462 8.82463 3.43614 8.90048 3.501 8.96403L11.4765 16.74C11.6166 16.8765 11.8044 16.953 12 16.953C12.1956 16.953 12.3834 16.8765 12.5235 16.74L20.499 8.96553C20.5643 8.90193 20.6162 8.8259 20.6517 8.74191C20.6871 8.65792 20.7054 8.56769 20.7054 8.47653C20.7054 8.38537 20.6871 8.29513 20.6517 8.21114C20.6162 8.12715 20.5643 8.05112 20.499 7.98753C20.3651 7.85669 20.1852 7.78345 19.998 7.78345C19.8108 7.78345 19.6309 7.85669 19.497 7.98753V7.98903Z" fill="#716E7B" stroke="#716E7B"/>
                        </svg></span><span style="margin-left:1px;color:#716E7B">${t.data._directSubordinatesPaging} </span></div>
                    `}[i.layout](t.children)}  </div>`,pagingButton:(t,i,r,o)=>{const a=o.pagingStep(t.parent),s=t.parent.data._pagingStep,u=t.parent.data._directSubordinatesPaging-s;return`
                   <div style="margin-top:90px;">
                      <div style="display:flex;width:170px;border-radius:20px;padding:5px 15px; padding-bottom:4px;;background-color:#E5E9F2">
                      <div><svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                      <path d="M5.59 7.41L10.18 12L5.59 16.59L7 18L13 12L7 6L5.59 7.41ZM16 6H18V18H16V6Z" fill="#716E7B" stroke="#716E7B"/>
                      </svg>
                      </div><div style="line-height:2"> Show next ${Math.min(u,a)}  nodes </div></div>
                   </div>
                `},nodeUpdate:function(t,i,r){B.select(this).select(".node-rect").attr("stroke",o=>o.data._highlighted||o.data._upToTheRootHighlighted?"#E27396":"none").attr("stroke-width",t.data._highlighted||t.data._upToTheRootHighlighted?10:1)},nodeEnter:t=>t,nodeExit:t=>t,linkUpdate:function(t,i,r){B.select(this).attr("stroke",o=>o.data._upToTheRootHighlighted?"#E27396":"#E4E2E9").attr("stroke-width",o=>o.data._upToTheRootHighlighted?5:1),t.data._upToTheRootHighlighted&&B.select(this).raise()},hdiagonal:function(t,i,r){const o=t.x,a=t.y,s=i.x,u=i.y;let l=r&&r.x!=null?r.x:o,c=r&&r.y!=null?r.y:a,d=s-o<0?-1:1,f=u-a<0?-1:1,p=35,x=Math.abs(s-o)/2<p?Math.abs(s-o)/2:p;x=Math.abs(u-a)/2<x?Math.abs(u-a)/2:x;let y=Math.abs(s-o)/2-x;return`
                          M ${l} ${c}
                          L ${l} ${a}
                          L ${o} ${a}
                          L ${o+y*d} ${a}
                          C ${o+y*d+x*d} ${a} 
                            ${o+y*d+x*d} ${a} 
                            ${o+y*d+x*d} ${a+x*f}
                          L ${o+y*d+x*d} ${u-x*f} 
                          C ${o+y*d+x*d}  ${u} 
                            ${o+y*d+x*d}  ${u} 
                            ${s-y*d}  ${u}
                          L ${s} ${u}
               `},diagonal:function(t,i,r,o={sy:0}){const a=t.x;let s=t.y;const u=i.x,l=i.y;let c=r&&r.x!=null?r.x:a,d=r&&r.y!=null?r.y:s,f=u-a<0?-1:1,p=l-s<0?-1:1;s+=o.sy;let x=35,y=Math.abs(u-a)/2<x?Math.abs(u-a)/2:x;y=Math.abs(l-s)/2<y?Math.abs(l-s)/2:y;let b=Math.abs(l-s)/2-y,v=Math.abs(u-a)-y*2;return`
                          M ${c} ${d}
                          L ${a} ${d}
                          L ${a} ${s}
                          L ${a} ${s+b*p}
                          C  ${a} ${s+b*p+y*p} ${a} ${s+b*p+y*p} ${a+y*f} ${s+b*p+y*p}
                          L ${a+v*f+y*f} ${s+b*p+y*p}
                          C  ${u}  ${s+b*p+y*p} ${u}  ${s+b*p+y*p} ${u} ${l-b*p}
                          L ${u} ${l}
               `},defs:function(t,i){return`<defs>
                    ${i.map(r=>{const o=this.getTextWidth(r.label,{ctx:t.ctx,fontSize:2,defaultFont:t.defaultFont});return`
                       <marker id="${r.from+"_"+r.to}" refX="${r._source.x<r._target.x?-7:7}" refY="5" markerWidth="500"  markerHeight="500"  orient="${r._source.x<r._target.x?"auto":"auto-start-reverse"}" >
                       <rect rx=0.5 width=${r.label?o+3:0} height=3 y=1  fill="#E27396"></rect>
                       <text font-size="2px" x=1 fill="white" y=3>${r.label||""}</text>
                       </marker>

                       <marker id="arrow-${r.from+"_"+r.to}"  markerWidth="500"  markerHeight="500"  refY="2"  refX="1" orient="${r._source.x<r._target.x?"auto":"auto-start-reverse"}" >
                       <path transform="translate(0)" d='M0,0 V4 L2,2 Z' fill='#E27396' />
                       </marker>
                    `}).join("")}
                    </defs>
                    `},connectionsUpdate:function(t,i,r){B.select(this).attr("stroke",o=>"#E27396").attr("stroke-linecap","round").attr("stroke-width",o=>"5").attr("pointer-events","none").attr("marker-start",o=>`url(#${o.from+"_"+o.to})`).attr("marker-end",o=>`url(#arrow-${o.from+"_"+o.to})`)},linkGroupArc:B.linkHorizontal().x(t=>t.x).y(t=>t.y),layoutBindings:{left:{nodeLeftX:t=>0,nodeRightX:t=>t.width,nodeTopY:t=>-t.height/2,nodeBottomY:t=>t.height/2,nodeJoinX:t=>t.x+t.width,nodeJoinY:t=>t.y-t.height/2,linkJoinX:t=>t.x+t.width,linkJoinY:t=>t.y,linkX:t=>t.x,linkY:t=>t.y,linkCompactXStart:t=>t.x+t.width/2,linkCompactYStart:t=>t.y+(t.compactEven?t.height/2:-t.height/2),compactLinkMidX:(t,i)=>t.firstCompactNode.x,compactLinkMidY:(t,i)=>t.firstCompactNode.y+t.firstCompactNode.flexCompactDim[0]/4+i.compactMarginPair(t)/4,linkParentX:t=>t.parent.x+t.parent.width,linkParentY:t=>t.parent.y,buttonX:t=>t.width,buttonY:t=>t.height/2,centerTransform:({root:t,rootMargin:i,centerY:r,scale:o,centerX:a})=>`translate(${i},${r}) scale(${o})`,compactDimension:{sizeColumn:t=>t.height,sizeRow:t=>t.width,reverse:t=>t.slice().reverse()},nodeFlexSize:({height:t,width:i,siblingsMargin:r,childrenMargin:o,state:a,node:s})=>a.compact&&s.flexCompactDim?[s.flexCompactDim[0],s.flexCompactDim[1]]:[t+r,i+o],zoomTransform:({centerY:t,scale:i})=>`translate(0,${t}) scale(${i})`,diagonal:this.hdiagonal.bind(this),swap:t=>{const i=t.x;t.x=t.y,t.y=i},nodeUpdateTransform:({x:t,y:i,width:r,height:o})=>`translate(${t},${i-o/2})`},top:{nodeLeftX:t=>-t.width/2,nodeRightX:t=>t.width/2,nodeTopY:t=>0,nodeBottomY:t=>t.height,nodeJoinX:t=>t.x-t.width/2,nodeJoinY:t=>t.y+t.height,linkJoinX:t=>t.x,linkJoinY:t=>t.y+t.height,linkCompactXStart:t=>t.x+(t.compactEven?t.width/2:-t.width/2),linkCompactYStart:t=>t.y+t.height/2,compactLinkMidX:(t,i)=>t.firstCompactNode.x+t.firstCompactNode.flexCompactDim[0]/4+i.compactMarginPair(t)/4,compactLinkMidY:t=>t.firstCompactNode.y,compactDimension:{sizeColumn:t=>t.width,sizeRow:t=>t.height,reverse:t=>t},linkX:t=>t.x,linkY:t=>t.y,linkParentX:t=>t.parent.x,linkParentY:t=>t.parent.y+t.parent.height,buttonX:t=>t.width/2,buttonY:t=>t.height,centerTransform:({root:t,rootMargin:i,centerY:r,scale:o,centerX:a})=>`translate(${a},${i}) scale(${o})`,nodeFlexSize:({height:t,width:i,siblingsMargin:r,childrenMargin:o,state:a,node:s,compactViewIndex:u})=>a.compact&&s.flexCompactDim?[s.flexCompactDim[0],s.flexCompactDim[1]]:[i+r,t+o],zoomTransform:({centerX:t,scale:i})=>`translate(${t},0}) scale(${i})`,diagonal:this.diagonal.bind(this),swap:t=>{},nodeUpdateTransform:({x:t,y:i,width:r,height:o})=>`translate(${t-r/2},${i})`},bottom:{nodeLeftX:t=>-t.width/2,nodeRightX:t=>t.width/2,nodeTopY:t=>-t.height,nodeBottomY:t=>0,nodeJoinX:t=>t.x-t.width/2,nodeJoinY:t=>t.y-t.height-t.height,linkJoinX:t=>t.x,linkJoinY:t=>t.y-t.height,linkCompactXStart:t=>t.x+(t.compactEven?t.width/2:-t.width/2),linkCompactYStart:t=>t.y-t.height/2,compactLinkMidX:(t,i)=>t.firstCompactNode.x+t.firstCompactNode.flexCompactDim[0]/4+i.compactMarginPair(t)/4,compactLinkMidY:t=>t.firstCompactNode.y,linkX:t=>t.x,linkY:t=>t.y,compactDimension:{sizeColumn:t=>t.width,sizeRow:t=>t.height,reverse:t=>t},linkParentX:t=>t.parent.x,linkParentY:t=>t.parent.y-t.parent.height,buttonX:t=>t.width/2,buttonY:t=>0,centerTransform:({root:t,rootMargin:i,centerY:r,scale:o,centerX:a,chartHeight:s})=>`translate(${a},${s-i}) scale(${o})`,nodeFlexSize:({height:t,width:i,siblingsMargin:r,childrenMargin:o,state:a,node:s})=>a.compact&&s.flexCompactDim?[s.flexCompactDim[0],s.flexCompactDim[1]]:[i+r,t+o],zoomTransform:({centerX:t,scale:i})=>`translate(${t},0}) scale(${i})`,diagonal:this.diagonal.bind(this),swap:t=>{t.y=-t.y},nodeUpdateTransform:({x:t,y:i,width:r,height:o})=>`translate(${t-r/2},${i-o})`},right:{nodeLeftX:t=>-t.width,nodeRightX:t=>0,nodeTopY:t=>-t.height/2,nodeBottomY:t=>t.height/2,nodeJoinX:t=>t.x-t.width-t.width,nodeJoinY:t=>t.y-t.height/2,linkJoinX:t=>t.x-t.width,linkJoinY:t=>t.y,linkX:t=>t.x,linkY:t=>t.y,linkParentX:t=>t.parent.x-t.parent.width,linkParentY:t=>t.parent.y,buttonX:t=>0,buttonY:t=>t.height/2,linkCompactXStart:t=>t.x-t.width/2,linkCompactYStart:t=>t.y+(t.compactEven?t.height/2:-t.height/2),compactLinkMidX:(t,i)=>t.firstCompactNode.x,compactLinkMidY:(t,i)=>t.firstCompactNode.y+t.firstCompactNode.flexCompactDim[0]/4+i.compactMarginPair(t)/4,centerTransform:({root:t,rootMargin:i,centerY:r,scale:o,centerX:a,chartWidth:s})=>`translate(${s-i},${r}) scale(${o})`,nodeFlexSize:({height:t,width:i,siblingsMargin:r,childrenMargin:o,state:a,node:s})=>a.compact&&s.flexCompactDim?[s.flexCompactDim[0],s.flexCompactDim[1]]:[t+r,i+o],compactDimension:{sizeColumn:t=>t.height,sizeRow:t=>t.width,reverse:t=>t.slice().reverse()},zoomTransform:({centerY:t,scale:i})=>`translate(0,${t}) scale(${i})`,diagonal:this.hdiagonal.bind(this),swap:t=>{const i=t.x;t.x=-t.y,t.y=i},nodeUpdateTransform:({x:t,y:i,width:r,height:o})=>`translate(${t-r},${i-o/2})`}}};this.getChartState=()=>n,Object.keys(n).forEach(t=>{this[t]=function(i){if(arguments.length)n[t]=i;else return n[t];return this}}),this.initializeEnterExitUpdatePattern()}initializeEnterExitUpdatePattern(){B.selection.prototype.patternify=function(n){var t=this,i=n.selector,r=n.tag,o=n.data||[i],a=t.selectAll("."+i).data(o,(s,u)=>typeof s=="object"&&s.id?s.id:u);return a.exit().remove(),a=a.enter().append(r).merge(a),a.attr("class",i),a}}getNodeChildren({data:n,children:t,_children:i},r){return r.push(n),t&&t.forEach(o=>{this.getNodeChildren(o,r)}),i&&i.forEach(o=>{this.getNodeChildren(o,r)}),r}initialZoom(n){const t=this.getChartState();return t.lastTransform.k=n,this}render(){const n=this.getChartState();if(!n.data||n.data.length==0)return console.log("ORG CHART - Data is empty"),n.container&&(W(n.container).select(".nodes-wrapper").remove(),W(n.container).select(".links-wrapper").remove(),W(n.container).select(".connections-wrapper").remove()),this;const t=B.select(n.container),i=t.node().getBoundingClientRect();i.width>0&&(n.svgWidth=i.width);const r={id:`ID${Math.floor(Math.random()*1e6)}`,chartWidth:n.svgWidth,chartHeight:n.svgHeight};if(n.calc=r,r.centerX=r.chartWidth/2,r.centerY=r.chartHeight/2,n.firstDraw){const s={zoom:null};s.zoom=n.createZoom().clickDistance(10).on("start",(u,l)=>n.onZoomStart(u)).on("end",(u,l)=>n.onZoomEnd(u)).on("zoom",(u,l)=>{n.onZoom(u),this.zoomed(u,l)}).scaleExtent(n.scaleExtent),n.zoomBehavior=s.zoom}n.flexTreeLayout=Se({nodeSize:s=>{const u=n.nodeWidth(s),l=n.nodeHeight(s),c=n.siblingsMargin(s),d=n.childrenMargin(s);return n.layoutBindings[n.layout].nodeFlexSize({state:n,node:s,width:u,height:l,siblingsMargin:c,childrenMargin:d})}}).spacing((s,u)=>s.parent==u.parent?0:n.neighbourMargin(s,u)),this.setLayouts({expandNodesFirst:!1});const o=t.patternify({tag:"svg",selector:"svg-chart-container"}).attr("width",n.svgWidth).attr("height",n.svgHeight).attr("font-family",n.defaultFont);n.firstDraw&&o.call(n.zoomBehavior).on("dblclick.zoom",null).attr("cursor","move"),n.svg=o;const a=o.patternify({tag:"g",selector:"chart"});return n.centerG=a.patternify({tag:"g",selector:"center-group"}),n.linksWrapper=n.centerG.patternify({tag:"g",selector:"links-wrapper"}),n.nodesWrapper=n.centerG.patternify({tag:"g",selector:"nodes-wrapper"}),n.connectionsWrapper=n.centerG.patternify({tag:"g",selector:"connections-wrapper"}),n.defsWrapper=o.patternify({tag:"g",selector:"defs-wrapper"}),n.firstDraw&&n.centerG.attr("transform",()=>n.layoutBindings[n.layout].centerTransform({centerX:r.centerX,centerY:r.centerY,scale:n.lastTransform.k,rootMargin:n.rootMargin,root:n.root,chartHeight:r.chartHeight,chartWidth:r.chartWidth})),n.chart=a,this.update(n.root),B.select(window).on(`resize.${n.id}`,()=>{const s=B.select(n.container).node().getBoundingClientRect();n.svg.attr("width",s.width)}),n.firstDraw&&(n.firstDraw=!1),this}addNode(n){const t=this.getChartState();if(n&&(t.parentNodeId(n)==null||t.parentNodeId(n)==t.nodeId(n))&&t.data.length==0)return t.data.push(n),this.render(),this;const r=t.generateRoot(t.data).descendants(),o=r.filter(({data:a})=>t.nodeId(a).toString()===t.nodeId(n).toString())[0];return r.filter(({data:a})=>t.nodeId(a).toString()===t.parentNodeId(n).toString())[0],o?(console.log(`ORG CHART - ADD - Node with id "${t.nodeId(n)}" already exists in tree`),this):(n._centered&&!n._expanded&&(n._expanded=!0),t.data.push(n),this.updateNodesState(),this)}removeNode(n){const t=this.getChartState(),o=t.generateRoot(t.data).descendants().filter(({data:s})=>t.nodeId(s)==n)[0];return o?(o.descendants().forEach(s=>s.data._filteredOut=!0),t.data=t.data.filter(s=>!s._filteredOut),t.data.length==0?this.render():this.updateNodesState.bind(this)(),this):(console.log(`ORG CHART - REMOVE - Node with id "${n}" not found in the tree`),this)}groupBy(n,t,i){const r={};return n.forEach(o=>{const a=t(o);r[a]||(r[a]=[]),r[a].push(o)}),Object.keys(r).forEach(o=>{r[o]=i(r[o])}),Object.entries(r)}calculateCompactFlexDimensions(n){const t=this.getChartState();n.eachBefore(i=>{i.firstCompact=null,i.compactEven=null,i.flexCompactDim=null,i.firstCompactNode=null}),n.eachBefore(i=>{if(i.children&&i.children.length>1){const r=i.children.filter(c=>!c.children);if(r.length<2)return;r.forEach((c,d)=>{d||(c.firstCompact=!0),d%2?c.compactEven=!1:c.compactEven=!0,c.row=Math.floor(d/2)});const o=B.max(r.filter(c=>c.compactEven),t.layoutBindings[t.layout].compactDimension.sizeColumn),a=B.max(r.filter(c=>!c.compactEven),t.layoutBindings[t.layout].compactDimension.sizeColumn),s=Math.max(o,a)*2,u=this.groupBy(r,c=>c.row,c=>B.max(c,d=>t.layoutBindings[t.layout].compactDimension.sizeRow(d)+t.compactMarginBetween(d))),l=B.sum(u.map(c=>c[1]));r.forEach(c=>{c.firstCompactNode=r[0],c.firstCompact?c.flexCompactDim=[s+t.compactMarginPair(c),l-t.compactMarginBetween(c)]:c.flexCompactDim=[0,0]}),i.flexCompactDim=null}})}calculateCompactFlexPositions(n){const t=this.getChartState();n.eachBefore(i=>{if(i.children){const r=i.children.filter(c=>c.flexCompactDim),o=r[0];if(!o)return;r.forEach((c,d,f)=>{d==0&&(o.x-=o.flexCompactDim[0]/2),d&d%2-1?c.x=o.x+o.flexCompactDim[0]*.25-t.compactMarginPair(c)/4:d&&(c.x=o.x+o.flexCompactDim[0]*.75+t.compactMarginPair(c)/4)});const a=o.x+o.flexCompactDim[0]*.5;o.x=o.x+o.flexCompactDim[0]*.25-t.compactMarginPair(o)/4;const s=i.x-a;Math.abs(s)<10&&r.forEach(c=>c.x+=s);const u=this.groupBy(r,c=>c.row,c=>B.max(c,d=>t.layoutBindings[t.layout].compactDimension.sizeRow(d))),l=B.cumsum(u.map(c=>c[1]+t.compactMarginBetween(c)));r.forEach((c,d)=>{c.row?c.y=o.y+l[c.row-1]:c.y=o.y})}})}update({x0:n,y0:t,x:i=0,y:r=0,width:o,height:a}){const s=this.getChartState();s.calc,s.compact&&this.calculateCompactFlexDimensions(s.root);const u=s.flexTreeLayout(s.root);s.compact&&this.calculateCompactFlexPositions(s.root);const l=u.descendants(),c=u.descendants().slice(1);l.forEach(s.layoutBindings[s.layout].swap);const d=s.connections,f={};s.allNodes.forEach(h=>f[s.nodeId(h.data)]=h);const p={};l.forEach(h=>p[s.nodeId(h.data)]=h),d.forEach(h=>{const m=f[h.from],w=f[h.to];h._source=m,h._target=w});const x=d.filter(h=>p[h.from]&&p[h.to]),y=s.defs.bind(this)(s,x),b=s.defsWrapper.html();y!==b&&s.defsWrapper.html(y);const v=s.linksWrapper.selectAll("path.link").data(c,h=>s.nodeId(h.data)),E=v.enter().insert("path","g").attr("class","link").attr("d",h=>{const m=s.layoutBindings[s.layout].linkJoinX({x:n,y:t,width:o,height:a}),w=s.layoutBindings[s.layout].linkJoinY({x:n,y:t,width:o,height:a}),C={x:m,y:w};return s.layoutBindings[s.layout].diagonal(C,C,C)}).merge(v);E.attr("fill","none"),this.isEdge()?E.style("display",h=>h.data._pagingButton?"none":"auto"):E.attr("display",h=>h.data._pagingButton?"none":"auto"),E.each(s.linkUpdate),E.transition().duration(s.duration).attr("d",h=>{const m=s.compact&&h.flexCompactDim?{x:s.layoutBindings[s.layout].compactLinkMidX(h,s),y:s.layoutBindings[s.layout].compactLinkMidY(h,s)}:{x:s.layoutBindings[s.layout].linkX(h),y:s.layoutBindings[s.layout].linkY(h)},w={x:s.layoutBindings[s.layout].linkParentX(h),y:s.layoutBindings[s.layout].linkParentY(h)},C=s.compact&&h.flexCompactDim?{x:s.layoutBindings[s.layout].linkCompactXStart(h),y:s.layoutBindings[s.layout].linkCompactYStart(h)}:m;return s.layoutBindings[s.layout].diagonal(m,w,C,{sy:s.linkYOffset})}),v.exit().transition().duration(s.duration).attr("d",h=>{const m=s.layoutBindings[s.layout].linkJoinX({x:i,y:r,width:o,height:a}),w=s.layoutBindings[s.layout].linkJoinY({x:i,y:r,width:o,height:a}),C={x:m,y:w};return s.layoutBindings[s.layout].diagonal(C,C,null,{sy:s.linkYOffset})}).remove();const M=s.connectionsWrapper.selectAll("path.connection").data(x),X=M.enter().insert("path","g").attr("class","connection").attr("d",h=>{const m=s.layoutBindings[s.layout].linkJoinX({x:n,y:t,width:o,height:a}),w=s.layoutBindings[s.layout].linkJoinY({x:n,y:t,width:o,height:a}),C={x:m,y:w};return s.layoutBindings[s.layout].diagonal(C,C,null,{sy:s.linkYOffset})}).merge(M);X.attr("fill","none"),X.transition().duration(s.duration).attr("d",h=>{const m=s.layoutBindings[s.layout].linkX({x:h._source.x,y:h._source.y,width:h._source.width,height:h._source.height}),w=s.layoutBindings[s.layout].linkY({x:h._source.x,y:h._source.y,width:h._source.width,height:h._source.height}),C=s.layoutBindings[s.layout].linkJoinX({x:h._target.x,y:h._target.y,width:h._target.width,height:h._target.height}),k=s.layoutBindings[s.layout].linkJoinY({x:h._target.x,y:h._target.y,width:h._target.width,height:h._target.height});return s.linkGroupArc({source:{x:m,y:w},target:{x:C,y:k}})}),X.each(s.connectionsUpdate),M.exit().transition().duration(s.duration).attr("opacity",0).remove();const D=s.nodesWrapper.selectAll("g.node").data(l,({data:h})=>s.nodeId(h)),Q=D.enter().append("g").attr("class","node").attr("transform",h=>{if(h==s.root)return`translate(${n},${t})`;const m=s.layoutBindings[s.layout].nodeJoinX({x:n,y:t,width:o,height:a}),w=s.layoutBindings[s.layout].nodeJoinY({x:n,y:t,width:o,height:a});return`translate(${m},${w})`}).attr("cursor","pointer").on("click.node",(h,m)=>{const{data:w}=m;if(![...h.srcElement.classList].includes("node-button-foreign-object")){if([...h.srcElement.classList].includes("paging-button-wrapper")){this.loadPagingNodes(m);return}if(!w._pagingButton){s.onNodeClick(m);return}console.log("event fired, no handlers")}}).on("keydown.node",(h,m)=>{if(h.key==="Enter"||h.key===" "||h.key==="Spacebar"){if([...h.srcElement.classList].includes("node-button-foreign-object"))return;if([...h.srcElement.classList].includes("paging-button-wrapper")){this.loadPagingNodes(m);return}(h.key==="Enter"||h.key===" "||h.key==="Spacebar")&&this.onButtonClick(h,m)}});Q.each(s.nodeEnter),Q.patternify({tag:"rect",selector:"node-rect",data:h=>[h]});const O=Q.merge(D).style("font","12px sans-serif");O.patternify({tag:"foreignObject",selector:"node-foreign-object",data:h=>[h]}).style("overflow","visible").patternify({tag:"xhtml:div",selector:"node-foreign-object-div",data:h=>[h]}),this.restyleForeignObjectElements();const St=Q.patternify({tag:"g",selector:"node-button-g",data:h=>[h]}).on("click",(h,m)=>this.onButtonClick(h,m)).on("keydown",(h,m)=>{(h.key==="Enter"||h.key===" "||h.key==="Spacebar")&&this.onButtonClick(h,m)});St.patternify({tag:"rect",selector:"node-button-rect",data:h=>[h]}).attr("opacity",0).attr("pointer-events","all").attr("width",h=>s.nodeButtonWidth(h)).attr("height",h=>s.nodeButtonHeight(h)).attr("x",h=>s.nodeButtonX(h)).attr("y",h=>s.nodeButtonY(h)),St.patternify({tag:"foreignObject",selector:"node-button-foreign-object",data:h=>[h]}).attr("width",h=>s.nodeButtonWidth(h)).attr("height",h=>s.nodeButtonHeight(h)).attr("x",h=>s.nodeButtonX(h)).attr("y",h=>s.nodeButtonY(h)).style("overflow","visible").patternify({tag:"xhtml:div",selector:"node-button-div",data:h=>[h]}).style("pointer-events","none").style("display","flex").style("width","100%").style("height","100%"),O.transition().attr("opacity",0).duration(s.duration).attr("transform",({x:h,y:m,width:w,height:C})=>s.layoutBindings[s.layout].nodeUpdateTransform({x:h,y:m,width:w,height:C})).attr("opacity",1),O.select(".node-rect").attr("width",({width:h})=>h).attr("height",({height:h})=>h).attr("x",({width:h})=>0).attr("y",({height:h})=>0).attr("cursor","pointer").attr("rx",3).attr("fill",s.nodeDefaultBackground),O.select(".node-button-g").attr("transform",({data:h,width:m,height:w})=>{const C=s.layoutBindings[s.layout].buttonX({width:m,height:w}),k=s.layoutBindings[s.layout].buttonY({width:m,height:w});return`translate(${C},${k})`}).attr("display",({data:h})=>h._directSubordinates>0?null:"none").attr("opacity",({data:h,children:m,_children:w})=>h._pagingButton?0:m||w?1:0),O.select(".node-button-foreign-object .node-button-div").html(h=>s.buttonContent({node:h,state:s})),O.select(".node-button-text").attr("text-anchor","middle").attr("alignment-baseline","middle").attr("font-size",({children:h})=>h?40:26).text(({children:h})=>h?"-":"+").attr("y",this.isEdge()?10:0),O.each(s.nodeUpdate);const mt=D.exit();mt.each(s.nodeExit);const Jt=mt.data().reduce((h,m)=>h.depth<m.depth?h:m,{depth:1/0});mt.attr("opacity",1).transition().duration(s.duration).attr("transform",h=>{let{x:m,y:w,width:C,height:k}=Jt.parent||{};const S=s.layoutBindings[s.layout].nodeJoinX({x:m,y:w,width:C,height:k}),N=s.layoutBindings[s.layout].nodeJoinY({x:m,y:w,width:C,height:k});return`translate(${S},${N})`}).on("end",function(){B.select(this).remove()}).attr("opacity",0),l.forEach(h=>{h.x0=h.x,h.y0=h.y});const g=s.allNodes.filter(h=>h.data._centered)[0];if(g){let h=[g];g.data._centeredWithDescendants&&(s.compact?h=g.descendants().filter((m,w)=>w<7):h=g.descendants().filter((m,w,C)=>{const k=Math.round(C.length/2),S=2;return C.length%2?w>k-S&&w<k+S-1:w>k-S&&w<k+S})),g.data._centeredWithDescendants=null,g.data._centered=null,this.fit({animate:!0,scale:!1,nodes:h})}}isEdge(){return window.navigator.userAgent.includes("Edge")}hdiagonal(n,t,i,r){return this.getChartState().hdiagonal(n,t,i,r)}diagonal(n,t,i,r){return this.getChartState().diagonal(n,t,i,r)}restyleForeignObjectElements(){const n=this.getChartState();n.svg.selectAll(".node-foreign-object").attr("width",({width:t})=>t).attr("height",({height:t})=>t).attr("x",({width:t})=>0).attr("y",({height:t})=>0),n.svg.selectAll(".node-foreign-object-div").style("width",({width:t})=>`${t}px`).style("height",({height:t})=>`${t}px`).html(function(t,i,r){return t.data._pagingButton?`<div class="paging-button-wrapper"><div style="pointer-events:none">${n.pagingButton(t,i,r,n)}</div></div>`:n.nodeContent.bind(this)(t,i,r,n)})}onButtonClick(n,t){const i=this.getChartState();t.data._pagingButton||(i.setActiveNodeCentered&&(t.data._centered=!0,t.data._centeredWithDescendants=!0),t.children?(t._children=t.children,t.children=null,this.setExpansionFlagToChildren(t,!1)):(t.children=t._children,t._children=null,t.children&&t.children.forEach(({data:r})=>r._expanded=!0)),this.update(t),n.stopPropagation(),i.onExpandOrCollapse(t))}setExpansionFlagToChildren({data:n,children:t,_children:i},r){n._expanded=r,t&&t.forEach(o=>{this.setExpansionFlagToChildren(o,r)}),i&&i.forEach(o=>{this.setExpansionFlagToChildren(o,r)})}expandSomeNodes(n){if(n.data._expanded){let t=n.parent;for(;t&&t._children;)t.children=t._children,t._children=null,t=t.parent}n._children&&n._children.forEach(t=>this.expandSomeNodes(t)),n.children&&n.children.forEach(t=>this.expandSomeNodes(t))}updateNodesState(){const n=this.getChartState();this.setLayouts({expandNodesFirst:!0}),this.update(n.root)}setLayouts({expandNodesFirst:n=!0}){const t=this.getChartState();t.generateRoot=B.stratify().id(o=>t.nodeId(o)).parentId(o=>t.parentNodeId(o)),t.root=t.generateRoot(t.data);const i=t.root.descendants();t.initialExpandLevel>1&&i.length>0&&(i.forEach(o=>{o.depth<=t.initialExpandLevel&&(o.data._expanded=!0)}),t.initialExpandLevel=1);const r={};t.root.descendants().filter(o=>o.children).filter(o=>!o.data._pagingStep).forEach(o=>{o.data._pagingStep=t.minPagingVisibleNodes(o)}),t.root.eachBefore((o,a)=>{o.data._directSubordinatesPaging=o.children?o.children.length:0,o.children&&o.children.forEach((s,u)=>{if(s.data._pagingButton=!1,u>o.data._pagingStep&&(r[s.id]=!0),u===o.data._pagingStep&&o.children.length-1>o.data._pagingStep&&(s.data._pagingButton=!0),r[s.parent.id]&&(r[s.id]=!0),s.data._expanded||s.data._centered||s.data._highlighted||s.data._upToTheRootHighlighted){let l=s;for(;l&&(r[l.id]||l.data._pagingButton);)r[l.id]=!1,l.data._pagingButton&&(l.data._pagingButton=!1,l.parent.children.forEach(c=>{c.data._expanded=!0,r[c.id]=!1})),l=l.parent}})}),t.root=B.stratify().id(o=>t.nodeId(o)).parentId(o=>t.parentNodeId(o))(t.data.filter(o=>r[o.id]!==!0)),t.root.each((o,a,s)=>{let u=o._hierarchyHeight||o.height,l=t.nodeWidth(o),c=t.nodeHeight(o);Object.assign(o,{width:l,height:c,_hierarchyHeight:u})}),t.root.x0=0,t.root.y0=0,t.allNodes=t.root.descendants(),t.allNodes.forEach(o=>{Object.assign(o.data,{_directSubordinates:o.children?o.children.length:0,_totalSubordinates:o.descendants().length-1})}),t.root.children&&(n&&t.root.children.forEach(this.expand),t.root.children.forEach(o=>this.collapse(o)),t.initialExpandLevel==0&&(t.root._children=t.root.children,t.root.children=null),[t.root].forEach(o=>this.expandSomeNodes(o)))}collapse(n){n.children&&(n._children=n.children,n._children.forEach(t=>this.collapse(t)),n.children=null)}expand(n){n._children&&(n.children=n._children,n.children.forEach(t=>this.expand(t)),n._children=null)}zoomed(n,t){const i=this.getChartState(),r=i.chart,o=n.transform;i.lastTransform=o,r.attr("transform",o),this.isEdge()&&this.restyleForeignObjectElements()}zoomTreeBounds({x0:n,x1:t,y0:i,y1:r,params:o={animate:!0,scale:!0,onCompleted:()=>{}}}){const{centerG:a,svgWidth:s,svgHeight:u,svg:l,zoomBehavior:c,duration:d,lastTransform:f}=this.getChartState();let p=Math.min(8,.9/Math.max((t-n)/s,(r-i)/u)),x=B.zoomIdentity.translate(s/2,u/2);x=x.scale(o.scale?p:f.k),x=x.translate(-(n+t)/2,-(i+r)/2),l.transition().duration(o.animate?d:0).call(c.transform,x),a.transition().duration(o.animate?d:0).attr("transform","translate(0,0)").on("end",function(){o.onCompleted&&o.onCompleted()})}fit({animate:n=!0,nodes:t,scale:i=!0,onCompleted:r=()=>{}}={}){const o=this.getChartState(),{root:a}=o;let s=t||a.descendants();const u=B.min(s,f=>f.x+o.layoutBindings[o.layout].nodeLeftX(f)),l=B.max(s,f=>f.x+o.layoutBindings[o.layout].nodeRightX(f)),c=B.min(s,f=>f.y+o.layoutBindings[o.layout].nodeTopY(f)),d=B.max(s,f=>f.y+o.layoutBindings[o.layout].nodeBottomY(f));return this.zoomTreeBounds({params:{animate:n,scale:i,onCompleted:r},x0:u-50,x1:l+50,y0:c-50,y1:d+50}),this}loadPagingNodes(n){const t=this.getChartState();n.data._pagingButton=!1;const i=n.parent.data._pagingStep,r=t.pagingStep(n.parent),o=i+r;n.parent.data._pagingStep=o,this.updateNodesState()}setExpanded(n,t=!0){const i=this.getChartState(),r=i.allNodes.filter(({data:o})=>i.nodeId(o)==n)[0];if(!r)return console.log(`ORG CHART - ${t?"EXPAND":"COLLAPSE"} - Node with id (${n})  not found in the tree`),this;if(r.data._expanded=t,t==!1){const o=r.parent||{descendants:()=>[]};o.descendants().filter(s=>s!=o).forEach(s=>s.data._expanded=!1)}return this}setCentered(n){const t=this.getChartState(),o=t.generateRoot(t.data).descendants().filter(({data:s})=>t.nodeId(s).toString()==n.toString())[0];return o?(o.ancestors().forEach(s=>s.data._expanded=!0),o.data._centered=!0,o.data._expanded=!0,this):(console.log(`ORG CHART - CENTER - Node with id (${n}) not found in the tree`),this)}setHighlighted(n){const t=this.getChartState(),o=t.generateRoot(t.data).descendants().filter(s=>t.nodeId(s.data).toString()===n.toString())[0];return o?(o.ancestors().forEach(s=>s.data._expanded=!0),o.data._highlighted=!0,o.data._expanded=!0,o.data._centered=!0,this):(console.log(`ORG CHART - HIGHLIGHT - Node with id (${n})  not found in the tree`),this)}setUpToTheRootHighlighted(n){const t=this.getChartState(),o=t.generateRoot(t.data).descendants().filter(s=>t.nodeId(s.data).toString()===n.toString())[0];return o?(o.ancestors().forEach(s=>s.data._expanded=!0),o.data._upToTheRootHighlighted=!0,o.data._expanded=!0,o.ancestors().forEach(s=>s.data._upToTheRootHighlighted=!0),this):(console.log(`ORG CHART - HIGHLIGHTROOT - Node with id (${n}) not found in the tree`),this)}clearHighlighting(){const n=this.getChartState();return n.allNodes.forEach(t=>{t.data._highlighted=!1,t.data._upToTheRootHighlighted=!1}),this.update(n.root),this}fullscreen(n){const t=this.getChartState(),i=B.select(n||t.container).node();B.select(document).on("fullscreenchange."+t.id,function(r){(document.fullscreenElement||document.mozFullscreenElement||document.webkitFullscreenElement)==i?setTimeout(a=>{t.svg.attr("height",window.innerHeight-40)},500):t.svg.attr("height",t.svgHeight)}),i.requestFullscreen?i.requestFullscreen():i.mozRequestFullScreen?i.mozRequestFullScreen():i.webkitRequestFullscreen?i.webkitRequestFullscreen():i.msRequestFullscreen&&i.msRequestFullscreen()}zoomIn(){const{svg:n,zoomBehavior:t}=this.getChartState();n.transition().call(t.scaleBy,1.3)}zoomOut(){const{svg:n,zoomBehavior:t}=this.getChartState();n.transition().call(t.scaleBy,.78)}toDataURL(n,t){var i=new XMLHttpRequest;i.onload=function(){var r=new FileReader;r.onloadend=function(){t(r.result)},r.readAsDataURL(i.response)},i.open("GET",n),i.responseType="blob",i.send()}exportImg({full:n=!1,scale:t=3,onLoad:i=a=>a,save:r=!0,backgroundColor:o="#FAFAFA"}={}){const a=this,s=this.getChartState(),{svg:u,root:l}=s;let c=0;const d=u.selectAll("img");let f=d.size();const p=()=>{JSON.parse(JSON.stringify(a.lastTransform()));const x=a.duration();n&&a.fit();const{svg:y}=a.getChartState();setTimeout(b=>{a.downloadImage({node:y.node(),scale:t,isSvg:!1,backgroundColor:o,onAlreadySerialized:v=>{a.update(l)},imageName:s.imageName,onLoad:i,save:r})},n?x+10:0)};f>0?d.each(function(){a.toDataURL(this.src,x=>{this.src=x,++c==f&&p()})}):p()}exportSvg(){const{svg:n,imageName:t}=this.getChartState();return this.downloadImage({imageName:t,node:n.node(),scale:3,isSvg:!0}),this}expandAll(){const{allNodes:n,root:t,data:i}=this.getChartState();return i.forEach(r=>r._expanded=!0),this.render(),this}collapseAll(){const{allNodes:n,root:t}=this.getChartState();return n.forEach(i=>i.data._expanded=!1),this.initialExpandLevel(0),this.render(),this}downloadImage({node:n,scale:t=2,imageName:i="graph",isSvg:r=!1,save:o=!0,backgroundColor:a="#FAFAFA",onAlreadySerialized:s=l=>{},onLoad:u=l=>{}}){const l=n;function c(y,b){var v=document.createElement("a");typeof v.download=="string"?(document.body.appendChild(v),v.download=b,v.href=y,v.click(),document.body.removeChild(v)):location.replace(y)}function d(y){const b="http://www.w3.org/2000/xmlns/",v="http://www.w3.org/1999/xlink",$="http://www.w3.org/2000/svg";y=y.cloneNode(!0);const E=window.location.href+"#",M=document.createTreeWalker(y,NodeFilter.SHOW_ELEMENT,null,!1);for(;M.nextNode();)for(const D of M.currentNode.attributes)D.value.includes(E)&&(D.value=D.value.replace(E,"#"));return y.setAttributeNS(b,"xmlns",$),y.setAttributeNS(b,"xmlns:xlink",v),new XMLSerializer().serializeToString(y)}if(r){let y=d(l);y=`<?xml version="1.0" standalone="no"?>\r
`+y;var x="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(y);c(x,i+".svg"),s();return}const f=t,p=document.createElement("img");p.onload=function(){const y=document.createElement("canvas"),b=l.getBoundingClientRect();y.width=b.width*f,y.height=b.height*f;const v=y.getContext("2d");v.fillStyle=a,v.fillRect(0,0,b.width*f,b.height*f),v.drawImage(p,0,0,b.width*f,b.height*f);let $=y.toDataURL("image/png");u&&u($),o&&c($,i+".png")};var x="data:image/svg+xml; charset=utf8, "+encodeURIComponent(d(l));s(),p.src=x}getTextWidth(n,{fontSize:t=14,fontWeight:i=400,defaultFont:r="Helvetice",ctx:o}={}){return o.font=`${i||""} ${t}px ${r} `,o.measureText(n).width}clear(){const n=this.getChartState();B.select(window).on(`resize.${n.id}`,null),n.svg&&n.svg.selectAll("*").remove()}}const Tu={class:"wrap"},Au=Ze({__name:"Section7",setup(e){const n=Tt(null);let t;const i=[{id:1,name:"Alex Johnson",title:"Chief Executive Officer"},{id:2,parentId:1,name:"Taylor Reed",title:"VP, Marketing"},{id:3,parentId:1,name:"Jordan Kim",title:"VP, Operations"},{id:4,parentId:1,name:"Morgan Blake",title:"VP, Finance"},{id:5,parentId:2,name:"Riley Chen",title:"Director, Brand"},{id:6,parentId:2,name:"Avery Shah",title:"Director, Growth"},{id:7,parentId:3,name:"Casey Lin",title:"Director, Supply Chain"},{id:8,parentId:4,name:"Jamie Park",title:"Controller"}];return Ke(()=>{n.value&&(t=new zu().container(W(n.value)).data(i).nodeWidth(()=>260).nodeHeight(()=>110).childrenMargin(()=>40).compact(!1).initialZoom(.9).nodeContent(r=>{const o=r.data;return`
        <div class="org-node">
          <div class="avatar" style="background-image:url('${o.avatar||"https://placehold.co/96x96?text=%20"}')"></div>
          <div class="meta">
            <div class="name">${o.name||""}</div>
            <div class="title">${o.title||""}</div>
          </div>
        </div>
      `}).render(),setTimeout(()=>{var r;return(r=t.fit)==null?void 0:r.call(t)},0))}),Qe(()=>{t!=null&&t.destroy&&t.destroy()}),(r,o)=>(I(),P("div",Tu,[_("div",{ref_key:"el",ref:n,class:"orgchart-container"},null,512)]))}}),Lu=kt(Au,[["__scopeId","data-v-7c5cd357"]]),Pu={__name:"page-about",setup(e){return(n,t)=>{const i=zn,r=oi,o=di,a=xi,s=to,u=xo,l=Lu;return I(),P(At,null,[z(i,{title:"About"}),z(r),z(o),z(a),z(s),z(u),z(l)],64)}}};export{Pu as default};
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = []
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
